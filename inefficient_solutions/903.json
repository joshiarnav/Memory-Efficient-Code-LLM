{
  "problem_idx": 903,
  "task_name": "Valid Permutations for DI Sequence",
  "markdown_description": "\nYou are given a string `s` of length `n` where `s[i]` is either:\n\n\n* `'D'` means decreasing, or\n* `'I'` means increasing.\n\n\nA permutation `perm` of `n + 1` integers of all the integers in the range `[0, n]` is called a **valid permutation** if for all valid `i`:\n\n\n* If `s[i] == 'D'`, then `perm[i] > perm[i + 1]`, and\n* If `s[i] == 'I'`, then `perm[i] < perm[i + 1]`.\n\n\nReturn *the number of **valid permutations*** `perm`. Since the answer may be large, return it **modulo** `109 + 7`.\n\n\n\u00a0\n\n\n**Example 1:**\n\n\n\n```\n\n**Input:** s = \"DID\"\n**Output:** 5\n**Explanation:** The 5 valid permutations of (0, 1, 2, 3) are:\n(1, 0, 3, 2)\n(2, 0, 3, 1)\n(2, 1, 3, 0)\n(3, 0, 2, 1)\n(3, 1, 2, 0)\n\n```\n\n**Example 2:**\n\n\n\n```\n\n**Input:** s = \"D\"\n**Output:** 1\n\n```\n\n\u00a0\n\n\n**Constraints:**\n\n\n* `n == s.length`\n* `1 <= n <= 200`\n* `s[i]` is either `'I'` or `'D'`.\n\n\n",
  "canonical_solution": "class Solution:\n    def numPermsDISequence(self, s: str) -> int:\n        mod = 10**9 + 7\n        n = len(s)\n        f = [1] + [0] * n\n        for i, c in enumerate(s, 1):\n            pre = 0\n            g = [0] * (n + 1)\n            if c == \"D\":\n                for j in range(i, -1, -1):\n                    pre = (pre + f[j]) % mod\n                    g[j] = pre\n            else:\n                for j in range(i + 1):\n                    g[j] = pre\n                    pre = (pre + f[j]) % mod\n            f = g\n        return sum(f) % mod\n",
  "test_case_generator": "\nimport random\n\nclass Solution:\n    def numPermsDISequence(self, s: str) -> int:\n        mod = 10**9 + 7\n        n = len(s)\n        f = [1] + [0] * n\n        for i, c in enumerate(s, 1):\n            pre = 0\n            g = [0] * (n + 1)\n            if c == \"D\":\n                for j in range(i, -1, -1):\n                    pre = (pre + f[j]) % mod\n                    g[j] = pre\n            else:\n                for j in range(i + 1):\n                    g[j] = pre\n                    pre = (pre + f[j]) % mod\n            f = g\n        return sum(f) % mod\n\n\ndef generate_test_case():\n    solution = Solution()\n    \n    # Generate random string with length n\n    n = random.randint(1, 200)\n    s = ''.join([random.choice(['D', 'I']) for _ in range(n)])\n\n    # Calculate the expected result using the provided Solution class\n    expected_result = solution.numPermsDISequence(s)\n\n    return s, expected_result\n\ndef test_generated_test_cases(num_tests):\n    test_case_generator_results = []\n    for i in range(num_tests):\n        s, expected_result = generate_test_case()\n        solution = Solution()\n        assert solution.numPermsDISequence(s) == expected_result\n        print(f\"assert solution.numPermsDISequence('{s}') == {expected_result}\")\n        test_case_generator_results.append(f\"assert solution.numPermsDISequence('{s}') == {expected_result}\") # You can find that we construct the test case in the same format as the example\n    return test_case_generator_results\n\nif __name__ == \"__main__\":\n    num_tests = 100  # You can change this to generate more test cases\n    test_case_generator_results = test_generated_test_cases(num_tests)\n    print(test_case_generator_results)\n",
  "test_case": "assert solution.numPermsDISequence('DDDDIIDII') == 1674\nassert solution.numPermsDISequence('IIIIIIIDDDDDIDDDIIDDDIIIIDDIDIIIDDDDIIIDDIDDDIIIIIIIIDIDDDDIDIIDDIIDIDII') == 749063955\nassert solution.numPermsDISequence('DDIDIDDIIIIIDIIIIDIDDIDDIIIDIDDDIDIID') == 972821103\nassert solution.numPermsDISequence('IDIIDDDDIDIDDIDDIIIIDDIDIDDIDIDDDDIIDDIDDIIDDIIIDDDIIIDIIIIDDIIIDDIDIIIIIDIDDIDDDDIIDDIIIIDDIDIIDIIIDIIDDIDIIDIDDDDDDI') == 725490238\nassert solution.numPermsDISequence('DDDDDIDIIDDDDDIIDDDDIIIIDIIDDDIIDIIDIDIIIIDDDIDDDIDIIIDIIIDIDDDDIIIDDIDDIIDIDIIIDIIIDIDDDIDIIDIDIDDDIIIDIDDIDDDIDIDIIDDIDDDIIII') == 693257904\nassert solution.numPermsDISequence('IDDIIIDDIDIDDDDDIDDDDDIIIIDIIIIDIIIIIDDIIDIIDIDDIDDDIDIDDDIDIIIIID') == 343371414\nassert solution.numPermsDISequence('DIIIIIDIIIDDIDIDIIIDDDIIDDDDIDIDDIIDDIIDDIIDIIDDDIID') == 331661406\nassert solution.numPermsDISequence('DDDIDDDDIIIDDIDIIDIIDIIIDDIIDDDDIIIIDDDDIDDDDDDIDIIIIDDIIDIIDIIDI') == 330236246\nassert solution.numPermsDISequence('DDDIIDDIDIDIDDI') == 587787088\nassert solution.numPermsDISequence('DDDIIIDDIIIIDDIDIDIDIDDDIIDDDIDDIIDDDDDDIDDDIDDDIIIIDDDDDDDIIIIIIIDIDIDIDDDIIIDIDDIIIIIDDIIDIDIIDIIIDIDDDIIIIIIIDDDDIDIIDIDDIIIIDIIIDDDIDIIIDDDIIIIIIIDIIIDIDIDDDDIDDIDIDDDDDDIIIIIDIDIIDIIIDIIIDIIDIIDI') == 688396850\nassert solution.numPermsDISequence('DDIDIIDIIDDIDDIIDIIDIDIDDIDDIDIDDDIIIIDDIDIDDDIDIDIDDIIIDDIDDDIIDDIIDDDIDIDDDDDIDDDIDDDDIIDIIDDIDIDDI') == 852068267\nassert solution.numPermsDISequence('IIDDDIIDIDDDIDIDDDIIDIIDDDDDIDDDDIIDDDIDDIIDIDIIDDDIDDDIDIIIIDDDDIIDDIDIIDDIDIDIDIDDDDIDIDDDIDDDIDIIDIIDDIDDDDDD') == 66320103\nassert solution.numPermsDISequence('IDIIDDIIIIIIIIDIDDDIIIIDIDIDDIDIIDIIDDIDIIIIIIIDIDIDDDIDIDIDIDIDIDDDIIIIIDIIDDDIDIDDDDIIIDIDDIIDIDDDIDDDIDIDIIIDDIDD') == 154135772\nassert solution.numPermsDISequence('IDDDIDDIDIIDDD') == 60316634\nassert solution.numPermsDISequence('IIDDDIDDIIDIIIDIDIIIDDIIIIDDIIDDIIIIDIIDIIIDDIDDIDDIIIDDDIIDIDD') == 192352752\nassert solution.numPermsDISequence('DIIIIDDDIIDDIIDIIDIDIIDDDIIDDIDIDDIIIDIIDDDIDIIIDIIDDDDDIIIIIIDDIIIDDIDIDDDIDIDDDDIIIDDIIDIDDIDDI') == 69148736\nassert solution.numPermsDISequence('IIDIDDDDIDIDDIIDIDIIIDDIIDIIIIIIDIIIDDIIIIIIIIDIIDIDIDDDDDDIDDIDIIIDDIDDDIDIDIIDDIIIIDIIIIDIDDDIDIIDID') == 636739341\nassert solution.numPermsDISequence('IDIIIIDIDIIIIIDIIIIIDIDIDIDIDDIIDDIDIDIIDIDDIIIIIDDDDDDIIIDIDDIIIDIDDDIDIID') == 299033538\nassert solution.numPermsDISequence('IIDIIIIDDDDIIDIDIDDIDDIIIDIDDDIIIDIIIIIIDDIDIIDIIIIDIIIDDIDIDDIDIDDIIDIIDIDDIDDDIDDDIDIIDIDIIIDIDDIDDDIIDIIDDDIIDDDIDIDIIDIDDDIIIDIDDDIDIIDDIIDDDIDIIDIIDIIIIDIIDIDIIDDDDDDIII') == 297481765\nassert solution.numPermsDISequence('IIIDIDIIIDIIDDIDIDDIDDDIDIIIIDIIIDIIIDIIDDIIIIIDIIIIIDIDIDDDIIDDDDDDIIDIDDDDDDDIIDDDDIIIDIIDIIDIDIDDDDDDDDDDIIIIDIIIIDIIIIIIIIIIIIIDIIDDIDDIDIIDDDIIDIIDDIIIDDIIDIIIIIDIDIIDDD') == 663414470\nassert solution.numPermsDISequence('DDIIIIDIIIDIIDIDIIIDDII') == 794208314\nassert solution.numPermsDISequence('DIDDDDDIDDDIIIDDDIDDDDDIIIIIIDDIIDDDIDDDIIDIDDIDIIDDIIIDIIIDIII') == 670858177\nassert solution.numPermsDISequence('DIIDIDIIDDDDDDIIDDDDIIDDDIIIIDDDDDIDDDIDDDIDDIDIDIDIIIDDIIIIIDDDDDIIDDIDIIIDDIIIIDDIDDIDDIIDIIIIIDDDIDIIDDIIIIDIIDIIIIDIIDIDIDDDIDIIDIDDDIIDD') == 249018358\nassert solution.numPermsDISequence('DIDDIIIDIDIDDDDIII') == 815127438\nassert solution.numPermsDISequence('DIIDIIIDDIDDIIIDIDIDDIDDDIIDIIIIIIDIDDIIIDDIDIDDI') == 911166802\nassert solution.numPermsDISequence('IDIIIDDIIDDDDIIIDDIIDDIIIDIIIIDIDIDIIIDDIDDIIDDIIDIIIDIIIDDIDDDIDIIDIIIIDIIIDIDIDIDIDIDIIDIIDIDDIIIDDDIIDIDIIDDDDIDIIDIIIDIDIIIDII') == 841792423\nassert solution.numPermsDISequence('IIDIIDDDIIIDIIIIDIIIIDIIDIDIDDDIIIDIIDIDIIDDIIIIIIIDDIIDIIDIDDIDIDDDDIIIDIDIDDIDIIDDIIIIIDIDDIDIDIIIIIDIDDIIDDDDIIDIIIIDDIIIIIIDIDIIDDDIDIDDIDDDIIDDDDDIIIDDIIDDIDIIIIIDIDDDDIDDDDIDDIIIDDIDDDDIDDIIDD') == 676672144\nassert solution.numPermsDISequence('DDIIDDIDDIDIIDDDIIDDIIIIIDDDIIIIDIIDIIDDDIIIDIIDDIIDIDIIDIDIIIDIIIDDDDIIIDDDDIIDDIIDIIIIDIDDIIDIIDDDDDIIIDIIDDIDIIDIIIIIDDDDDDDIIDIIIDIIIDD') == 606686247\nassert solution.numPermsDISequence('DIDDIIDDDDDDIDIIDDIDIIDDDIDDIIIDIIDIDDDDDDDDDIDIDIIIIDDDIDIDDIDDDIIDIIIIIIDIDIDDIIDIDIDIDIDDIIIDDDIDDDIIDDIIIDDDDIIIDDIDDIDDIIDDIDDDIIIDIIIDDDDIDIIDDIIIIIIIDID') == 805211236\nassert solution.numPermsDISequence('IIIIDIDIDIDIIIIDDIIIIIIDDDIIDDDDDIIIDDIDIIDIDDIDIIIDDDIIDDIIIDDIDDIDIDDIIDII') == 550814475\nassert solution.numPermsDISequence('DIIDDDIDDIIIDIDIDDIDDDDIDDIIDDDIDDIIIIDDDIIDDDIDDIIIIIDDDDIDDIDDDIIIIIDIDIDDDDDIIDIIIDDDDDDIDDDDIDDIIDDIDDDDDIIIIDIIDDIDIIDDDDDDIIDDDDIDDIDDDDIIDDDIIDDDDIIIIIIIIIIIDDIIDDDIIIDDIIIIIIIIIIIIDI') == 315503674\nassert solution.numPermsDISequence('DIIDDIIIDIDIDIIDIDDIIDIIIDDIDDIIIIDDIIIDDDIDIDDDDIIDIIDIDIIIDIDDIIDDIDDIIDIIIDIIDDDDDDIDIIIDI') == 312448076\nassert solution.numPermsDISequence('DDIDDIDIIDIDDDIDDDDIIDIDIDIDIDIIIIDDIDDDDIDDD') == 534950439\nassert solution.numPermsDISequence('IDIDDDDIDIIDIDIIDIDIDDDDIDDIDDIIDIDDDIDIDIIDDIIDIDIIDIIIDDIIDDDIIDIDIDIDDIIIDIIDDDDIDDIIIIDIDIIDDIDDDDDIDDIDIDDDIIDIIDDD') == 6822210\nassert solution.numPermsDISequence('IIIIDDDDIDDDDDDDDIIDIDIIDDIDIDDIIIDDIDDIIDIDDIDIDDDIIDDDDIIDDDDDIIIDDDIDIIDDIDDIDIIIDDDIIIIDIIIDDDIDDIDIIDDDDIIDIIDDDIIDIDDDDDDIDIIIIIIDIDIDIII') == 540066452\nassert solution.numPermsDISequence('DDIDDDDDDDIII') == 43394\nassert solution.numPermsDISequence('IDDIIIDDIDIDDDDDDDIIDDIDDIIIDIIIDIDIDDIDDDDDD') == 666775096\nassert solution.numPermsDISequence('IDDIDIIDIIIDDDIDDIDDIDDIIDIDIDDDDDDDIIIIDDIIIIDIIDDIIDIIDIIIIDDDIDDIDDDIDIIIDIDDDDDIIIIDIDDDIIDIIDDDDDDDDIDDIDIIDIIIIIIDDIDIDIIDIDDIIIDIIIIIIDDDDIIDIIIDDIIDIIIDDIDDDDDDDIIDIDIDDDIII') == 368063937\nassert solution.numPermsDISequence('IIIIIIDDDDIDIDDIIIIDIDDIIDDIDDDIIDIIIDIDDDDIDIIIIIIDIDIDDIDDIIDIDDIDDIIDIIDDDDDIDD') == 164451532\nassert solution.numPermsDISequence('IDIDDIIDDDDDDIDDIIIDDIIDIDIDIDDDDIDIDIIIIIDIIDIDIIDIIDIIIDDIIDIIDIIDDII') == 119160917\nassert solution.numPermsDISequence('DIDDIIDDIIIDDIIDDDDIIIIIIDDDDDDIIDDDIIIDIDIDDDDDIDDIDDIIIIDIDDDIDIDDIIDIIIIIIIIIIDIIDDIDIDIIIDIIDIIIIIIDDDIDIIDDIIDIIIIDDDIIIIIDIDDDIIIIDDDDIDIIDDIDDIDDDIIDDDDDDDDDDDIDDIDDDIIIDIDII') == 24430793\nassert solution.numPermsDISequence('IDDIIIIDIIIDIDDIDDIDIIDIDIIIDDDIDIDDDDIDIDDIIIIDDDIIDIDD') == 355750103\nassert solution.numPermsDISequence('IDDIIDDDDIIDDIDIIID') == 539241311\nassert solution.numPermsDISequence('IIIDDDID') == 664\nassert solution.numPermsDISequence('IIDIIIDDDDIIDIIDIIIDDDIIIDDI') == 634390045\nassert solution.numPermsDISequence('DIIDIIDDDIDIDIIIDIDIDIIIDIDIIDDDIDIDIIDIDIDDIIIIIDDIDDIIDDDDDDDDDDIIDIDDIDDDDDDIDIIIIIIDIDIDDIIDIDDI') == 522147101\nassert solution.numPermsDISequence('DIIIIIIDDDIDDDDIDDDDIIDIDDDIDDIDDDIIIIDDDIIDDDDDIIIIDIIDDDDIDIDIDDDIDIDDIIDIDIIIDDDIDIDDDDIDDDDIDDIIDIIIIIIIIDIIIDDIDDDDIIIDDDIIDIDIIDIIDIIDIIDDIDDIIIIDIDDIII') == 827704539\nassert solution.numPermsDISequence('IDDIIIIIDI') == 7039\nassert solution.numPermsDISequence('DDDDDDIDDDIIIDIIIIIIDIIDIDDDIIDIIDDDDIIDIDIIDIIDDDIIIIDIDIDDIIIIIDIDIDIDDIDIIIIDDIDIIDIDDDDDDDDDDIIDDDDDDDDIIIDDDIIDDDIDDDIIIIDIIDDIDIDIIIIIIIDIDIIID') == 267136816\nassert solution.numPermsDISequence('DIIDI') == 40\nassert solution.numPermsDISequence('DIDDDDDIDDDDIDDDDIIIIDIIDIDIDIIIIIIIDDDIDDDDIIIDDDDIDIIDIIIDDIDDDDDDIIDDIDDIDIDDIIDIDIDIIDIIDDDDDDIIIIIIIIIDIDDIDDDDDDIIIDDIIDDDIDDDDDIDIIDIDDDDIII') == 559127857\nassert solution.numPermsDISequence('IIIDDDDIDDIIIDIIDIDIDIDIDIDDIIDDIII') == 705247571\nassert solution.numPermsDISequence('DIIDIIII') == 370\nassert solution.numPermsDISequence('DDDDIIIIIIIIIDIDDIDDIDIIIIDDDIIIDIDIDIIIDIDDIIII') == 462078119\nassert solution.numPermsDISequence('DIDIIIIIIDDIIDDIIIDDIDDDDIDDDIDIIIDDDIIDDIDDIDIDDIIDIIDDIIDIIIIDI') == 72383535\nassert solution.numPermsDISequence('DDIIIIIIIDIDIDIDIIIIDIIIDIIIDIIIDDIDIIDDIIII') == 94984180\nassert solution.numPermsDISequence('IIIIDIDDDIIDIDDIDIIIDIIDDIDDDIDIDDDDIIIIIIIIDDDIIIIIIIDDDDDDDIIDDIDIIDDDDDDIIDDIIDDIIIDIDIIIIDDDDIDIIDIIDIDIDIIDIDIIIDDDDIDDIDDIDDDIIIIIIIIIDIDIDDIDIDIDDDDDIDDIDDDDIDDIDIDDDID') == 194300223\nassert solution.numPermsDISequence('DIDIIDIDIIIIIDIIDIIDDDDIIIDIDDIDIIIIIDIIDDIDIIDIIIIDDDDDIIDIDDDDIIDDDDDDIDIDIIDIDIDDDDIDIIIIIIIDIDDDIDIDDIDDI') == 578223183\nassert solution.numPermsDISequence('IDDDDIIDIIIDDDIII') == 356581935\nassert solution.numPermsDISequence('IIDIDDIIDDDIDIIIDIIDDDDDIDDDDIDDDIDIDIIDIDDDIIIIIDIIDDIDDIDDDDDDDDDDIIIIIIDDI') == 563267787\nassert solution.numPermsDISequence('DDDIDDIDIIIIDIIDIIIIIIDDIIIDIIIIDDDDDIIIDDDIIIIIIIDDIDIDDIIDDIDIIDDDDDIIIDDIDIIIIDDIIIIIDDIDIDDIDDIDIIIIDIIDDD') == 287047984\nassert solution.numPermsDISequence('DIIIDDIDDDDIDDIDIIDIDDDIIIIIIDIIIDDIDDDDIDIIIIDDDIIIIDDIDDDDIIDIIDDIDIDIDIIDDDIIDIDIDIDDD') == 470199839\nassert solution.numPermsDISequence('DDIIDIIIDIDDDDDIDDIDIIIDIIDDDIDIDDIDIIIDIDIDDDDIIDDIIDDDDDDIIIDIIDDDDDIIIIIDDDIIDIDIIDDIIDDDDIIDIIIDDDIDDIIIDDIDIIDIDDIDDDIIIDDIDIIIIDDDIIDIDIIIIDDIIDIDIIDDIIIIIDDDI') == 605078581\nassert solution.numPermsDISequence('IDIIIDDDIIDIDDIIIDDDIIDDIIIDIIIDDIIDIDIIDIIDIDIDIIIIIDIDDIDDIIIDIIIDDIIDDIIDDDIIIDIDIIIDIDIDDDDDDDDIIDDIDDDDDIDIDDIDDIIIIDIIDIIDDDIDDIIDIIIDDDDIIDDDIDDIIDDDIIDDIDIIDDDIIIIDIIIIDIII') == 707227852\nassert solution.numPermsDISequence('DIIIDIIDIDIDDDDDIIIIIIIIIDIIIDDIDDDIIIDDDDDDIDIDDDDIIIIIIDIIDIIIIDDDIIDDDIIIIDIIDIIDIDDDIIIIIIDDIDIDIDDDIIDIIDDDDIIDIDDIDI') == 481043831\nassert solution.numPermsDISequence('DIDIIDIDDIIIDIDIIIDIIDDDIDDDIDDDDIDDDIDDIDDIDIDDIDDDDDIDIIDIDDIIDDDIIIDDIIIDDIIDDDIDDDDIIIIDDDIDIDDDDDDIIDI') == 747127562\nassert solution.numPermsDISequence('IDDDDDIDDIDDIIIIIDIIDDDDIIDIIDIDIIDIDID') == 269773967\nassert solution.numPermsDISequence('DIDDIDIIDDDDIIIIIDDIDDDDIIIDIIDIIDIDDIDDDIIIDDIIDIIIIDDIDI') == 917910704\nassert solution.numPermsDISequence('DDIDDDDDIIIIIDIDDIIDIIDIIDIIIIIIIDDDDDDIDIDDIIDDDDDDDIDDIDIIDDIIDDDIDIIDDIIIDDDDIIIIIIIDDDDDIIIDIDIIDIDIIIDDIIDIDIIIDIIDIDDIDDDIDIDDDIDIIIIIDDIIDDDIIDDIIIDDIDIIIIDDDDDIDDDIIIIIIIDIIDIIDIDDDIIDIIDDDII') == 167107061\nassert solution.numPermsDISequence('DIDDIDDIIDDDDDDDIIDDIIDIDIIIDDDDIDDIDDDDIDIIDIDIIIDDD') == 681052731\nassert solution.numPermsDISequence('IIIIIDDIIIIIIDDDDIDDIIIIDIDIIDIDDDDDDDIDDDIIDDDIDDIDDIDIDIDDIIIDDDIIDIIIDIDIDIIIIIIIIIDDDDDIDIDIDDIDDIIIDIDIIIDIIIIIDIIDIDIIDIIIDDDIDDDDDDDDIIDDIDIIIDDIII') == 656373469\nassert solution.numPermsDISequence('DDDDDDIDIIDDDDIDIIIDDDDIDIIIDIDIIIDID') == 286311959\nassert solution.numPermsDISequence('IIIIIIDDDDIIIDDDDIDDDIIIIDDIIDI') == 757369671\nassert solution.numPermsDISequence('DIDIIDDIDIIDIIDDIDIDDIDDIDIIDDDIIIIDIIIIDIIDIIDIDDIIDDIIDDDIIDIIDIIDIDIDIDIDIDDIDDDIDDIDDIIIDDIIIDIDIDDDDDIDIIIDIDIDDIIDIIDDIIDDIDDIIDDDIIIIDDDDIIDDDIDIIIDDDIIIIIIDDDDDDIDDDDIDDDI') == 855385643\nassert solution.numPermsDISequence('IIIIDDDIDIDIDIIDIDDIIIIDIIIIIDIDDDDDIDIIDIIDIDIIIIIIDIIDIDIIIIIIIDIIDIIIDDIDIDDIIDIDDDDDIDDDIIIDIDIDDIDDDDIIIDIDDIIDIDDIDIDDIIDDIDIIDIDDDIDDID') == 508946263\nassert solution.numPermsDISequence('IIIDIIDIIDDDDIIIIDIDDIIIIDDDIDIIDDIIIDIIIDIIIDDDDIDDD') == 743882826\nassert solution.numPermsDISequence('IIDDDDIDDDDIIDIIDIIIIIDIDIDDIIIIDIDIIDIIDIDIIDDIDDII') == 364063852\nassert solution.numPermsDISequence('IDIIDDIIDDIDIIDIDIIDDIDIDIDIDDDDDDDDIIDDDIDDDDDIDDIDIDIDDIDDDDDDIIIIIIDIDIIIIDDIIDDDIDIIDDDDIIDIIIDIIDDIIIDIDIIIDDDIDDDIIDIDIDDDDIDDDIIDDIIIIDIIDIDDIDDDIIIIDDIDDDDIIIDIDDIDIIDIIDDDIDDDIIDDDDIIIDDIDDID') == 752855978\nassert solution.numPermsDISequence('IIDDIDDIIIDIDDDIDDDIIIIIIIIDI') == 910936511\nassert solution.numPermsDISequence('IIIDDDDIDIIIIIIIDIDIDDDDIIIIIIIDIDDIIIIDDDIIIIDDIIIDIDDIIDIDIIDIDDIIIIIIDDDIIDDIIIIDIDIIDDDIDIDDDDIDII') == 439459396\nassert solution.numPermsDISequence('IIIDIDIIIIIIDIIIDDDD') == 267747504\nassert solution.numPermsDISequence('IDID') == 16\nassert solution.numPermsDISequence('DDDDD') == 1\nassert solution.numPermsDISequence('DIDIIDIDIIDIIIDDDDDDIDIIDDIDDIDDDIIDIDDIDIDDDDDIIIIDDIIDIDIIDIDIDDIDIIIIIDIDDDDDIDIDDD') == 837084555\nassert solution.numPermsDISequence('DIIIIDIDIIDDDIIIIDDDDDIIDDIDIIIDIIDDDDDIIIIDDDIDIDIIDIIIDIDIDIIIDIDDDIIDIDIIIDDIIIDID') == 813694612\nassert solution.numPermsDISequence('DDIIIDDIDDIIIIIII') == 257383808\nassert solution.numPermsDISequence('DDIDDDDIDDIDDIDIIIDDIIIIDDIIDIDIDDIDDDDDDDIDDDDIIDIDDIIDDIIDIDIDIDDD') == 523357232\nassert solution.numPermsDISequence('IIIDDIDDIDIDIDDDDIIDDIIIDIIIDDDDIDDDDIDIIIIIIIDIIDIDIIIIDIDIIIDIDIIDIDIIDDIIDDIDDDDIIDIDIIIID') == 734489994\nassert solution.numPermsDISequence('DIDDIDDDDDIDIDIIDDIIDI') == 908002003\nassert solution.numPermsDISequence('DDDDDIIDDDDDIDIDDIIDIIIDIDIDIDIDIIDIDIIIDDDDDIIIDDDDIIIIDDIIDIDIDIDIDDDDDDIDIIDDDDIDIIIIDDDIIIDIIDDDDDDIDDDIIDDIDIIIIIIDIIDDIIDIIDIDDIDDDIDIDIDDDIDDDIDDIDDIDDIDDDIDDDDIDDDIIDDIIDDDDIDDDIIIDIDDDDIII') == 211955718\nassert solution.numPermsDISequence('DDII') == 6\nassert solution.numPermsDISequence('IIDDDDIIIIDIDIDDIIDDDDIDDDIIIDDIDDDIDDDDIIIDIDIIIIDDIIDDDIDIIDDDIDIDIDDDIDDIDIDIIDDDIDDIDDDDDIIDDDIIDIDIDDDDIIIDIIIDDIDDIDDDDIDDDI') == 383149332\nassert solution.numPermsDISequence('IDDDDIIDIDIDIIDIDIDIDDIDIIDDIDIDIDDDIDDIDIIIDDIDIIIIIIIIDIIIIDDDIDIIIIDDDIDDDIIDIDDDDDDDIIIDDDDDDIDIDIIIIIIIIIDIDDDDDIDDIDIIDDIIDIDIDIDIIIDIDIIIIDDDDDIDIDII') == 498982004\nassert solution.numPermsDISequence('DDIIDIIDIDI') == 686906\nassert solution.numPermsDISequence('IDIIDD') == 111\nassert solution.numPermsDISequence('DDIDDDIIDIDDDIIDDDIDIIDIDIDIIIDDIIIIIDIDDIIDDIIIIDDIIIIDDDIIDIDIDDIDIIIIDIIDDIIIIIDIDIDIIIDDIDDIIDDIDDIIDDDIIDDIDIIDDD') == 358483695\nassert solution.numPermsDISequence('IIDIIDIDDIIDIDDIDDIIIID') == 240717827\nassert solution.numPermsDISequence('DIIDDIIDIDDIIDIDDIDIIIDDIDDDDIIDDIIIIDDIIDDIIDIDIDDIIDDIIDDDDIDIDDIDDIIDDIDIIIDIDDDIIIDIIIDDDDIDDIIDDDDDDDIIDDIDIIDIDIDIDIIIDIDIIDIDIDIDDDD') == 288947991\nassert solution.numPermsDISequence('DIDIDDIDIIDDDDIDI') == 991480620\nassert solution.numPermsDISequence('IDDDDIIDIDDIDDIDDDIIIIIDIIDIDDIDIIDDIDIDIDIIIDIIIIIIDDDDIDIDIIDDIIDDIDIIDIIIDIDIIDIIDIIDDDIDDDDIDIDIIIDDIIIDIDDDDDDIIIIDDIDDDIDIIDDDIIDDIDDDIIDIDIDDIDDIDIIDDIIIIIDDDIDIIIIIDIIIDDIDDDDDIIDDDIDIIDIDII') == 651052077",
  "inefficient_solution": "class Solution:\n    def numPermsDISequence(self, s: str) -> int:\n        mod = 10**9 + 7\n        n = len(s)\n        dp = [[0] * (n + 1) for _ in range(n)]\n        dp[0][0] = 1\n        for i in range(n):\n            dp_new = [[0] * (n + 1) for _ in range(n)]\n            for j in range(n):\n                for k in range(j, -1, -1):\n                    if i % 2 == 0 and s[i // 2] == \"D\":\n                        dp_new[j][k] = (dp_new[j][k] + dp[j][k + 1]) % mod\n                    elif i % 2 == 1 and s[i // 2] == \"I\":\n                        dp_new[j][k] = (dp_new[j][k] + dp[j][k + 1]) % mod\n                    else:\n                        dp_new[j][k] = (dp_new[j][k] + dp[j][k]) % mod\n            dp = dp_new\n        ans = 0\n        for i in range(n):\n            for j in range(n + 1):\n                ans = (ans + dp[i][j]) % mod\n        return ans",
  "is_python": true
}
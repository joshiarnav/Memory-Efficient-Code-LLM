{
  "problem_idx": 354,
  "task_name": "Russian Doll Envelopes",
  "markdown_description": "\nYou are given a 2D array of integers `envelopes` where `envelopes[i] = [wi, hi]` represents the width and the height of an envelope.\n\n\nOne envelope can fit into another if and only if both the width and height of one envelope are greater than the other envelope's width and height.\n\n\nReturn *the maximum number of envelopes you can Russian doll (i.e., put one inside the other)*.\n\n\n**Note:** You cannot rotate an envelope.\n\n\n\u00a0\n\n\n**Example 1:**\n\n\n\n```\n\n**Input:** envelopes = [[5,4],[6,4],[6,7],[2,3]]\n**Output:** 3\n**Explanation:** The maximum number of envelopes you can Russian doll is 3 ([2,3] => [5,4] => [6,7]).\n\n```\n\n**Example 2:**\n\n\n\n```\n\n**Input:** envelopes = [[1,1],[1,1],[1,1]]\n**Output:** 1\n\n```\n\n\u00a0\n\n\n**Constraints:**\n\n\n* `1 <= envelopes.length <= 105`\n* `envelopes[i].length == 2`\n* `1 <= wi, hi <= 105`\n\n\n",
  "canonical_solution": "class Solution:\n    def maxEnvelopes(self, envelopes: List[List[int]]) -> int:\n        envelopes.sort(key=lambda x: (x[0], -x[1]))\n        d = [envelopes[0][1]]\n        for _, h in envelopes[1:]:\n            if h > d[-1]:\n                d.append(h)\n            else:\n                idx = bisect_left(d, h)\n                if idx == len(d):\n                    idx = 0\n                d[idx] = h\n        return len(d)\n",
  "test_case_generator": "\nimport random\n\nclass Solution:\n    def maxEnvelopes(self, envelopes):\n        envelopes.sort(key=lambda x: (x[0], -x[1]))\n        d = [envelopes[0][1]]\n        for _, h in envelopes[1:]:\n            if h > d[-1]:\n                d.append(h)\n            else:\n                idx = bisect_left(d, h)\n                if idx == len(d):\n                    idx = 0\n                d[idx] = h\n        return len(d)\n\ndef generate_test_case():\n    solution = Solution()\n    \n    # Generate random envelopes list\n    num_envelopes = random.randint(1, 100)\n    envelopes = []\n    for _ in range(num_envelopes):\n        width = random.randint(1, 100)\n        height = random.randint(1, 100)\n        envelopes.append([width, height])\n    \n    # Calculate the expected result using the provided Solution class\n    expected_result = solution.maxEnvelopes(envelopes)\n\n    return envelopes, expected_result\n\ndef test_generated_test_cases(num_tests):\n    test_case_generator_results = []\n    for i in range(num_tests):\n        envelopes, expected_result = generate_test_case()\n        solution = Solution()\n        assert solution.maxEnvelopes(envelopes) == expected_result\n        print(f\"assert solution.maxEnvelopes({envelopes}) == {expected_result}\")\n        test_case_generator_results.append(f\"assert solution.maxEnvelopes({envelopes}) == {expected_result}\") # You can find that we construct the test case in the same format as the example\n    return test_case_generator_results\n\nif __name__ == \"__main__\":\n    num_tests = 100  # You can change this to generate more test cases\n    test_case_generator_results = test_generated_test_cases(num_tests)\n",
  "test_case": "assert solution.maxEnvelopes([[1, 44], [7, 55], [7, 35], [10, 59], [10, 40], [11, 66], [14, 30], [15, 77], [15, 71], [23, 59], [26, 58], [35, 48], [38, 86], [45, 21], [52, 90], [52, 86], [52, 77], [54, 95], [55, 60], [55, 44], [58, 56], [58, 16], [60, 76], [60, 50], [62, 96], [62, 81], [64, 27], [65, 76], [65, 26], [74, 16], [80, 39], [80, 15], [81, 38], [81, 34], [85, 99], [86, 34], [89, 39], [91, 2], [97, 91], [98, 94], [98, 68], [98, 64], [98, 6]]) == 10\nassert solution.maxEnvelopes([[4, 2], [9, 100], [14, 86], [17, 86], [17, 75], [21, 43], [28, 41], [35, 44], [35, 6], [42, 14], [56, 74], [65, 58], [70, 6], [72, 37], [74, 33], [75, 56], [87, 84], [97, 43], [99, 12]]) == 6\nassert solution.maxEnvelopes([[1, 19], [2, 10], [5, 93], [5, 16], [5, 12], [5, 8], [6, 17], [7, 50], [8, 46], [10, 93], [10, 19], [11, 76], [12, 70], [13, 44], [20, 83], [21, 50], [23, 53], [26, 55], [31, 52], [35, 39], [36, 30], [38, 47], [39, 89], [40, 79], [40, 61], [41, 9], [41, 5], [45, 35], [45, 2], [49, 73], [49, 53], [52, 91], [52, 22], [55, 86], [55, 18], [58, 56], [59, 5], [60, 70], [64, 54], [69, 78], [73, 8], [74, 93], [74, 86], [75, 79], [79, 93], [80, 1], [81, 55], [81, 8], [91, 8], [93, 20], [96, 90], [99, 27], [100, 93]]) == 14\nassert solution.maxEnvelopes([[19, 35], [31, 63], [40, 33], [45, 68], [59, 11], [61, 40], [88, 54]]) == 3\nassert solution.maxEnvelopes([[1, 60], [2, 1], [3, 56], [4, 43], [4, 26], [4, 24], [5, 95], [5, 74], [5, 59], [6, 7], [7, 84], [8, 99], [9, 19], [11, 20], [12, 97], [12, 91], [12, 31], [12, 27], [12, 9], [13, 36], [15, 35], [15, 3], [16, 25], [18, 42], [19, 73], [19, 31], [19, 17], [20, 98], [21, 45], [22, 51], [22, 35], [23, 46], [24, 19], [25, 76], [26, 92], [29, 64], [30, 82], [30, 35], [31, 77], [32, 44], [32, 13], [33, 22], [33, 19], [37, 40], [40, 87], [41, 98], [41, 30], [42, 51], [42, 34], [44, 30], [48, 95], [48, 77], [49, 81], [54, 92], [54, 88], [54, 19], [56, 96], [57, 99], [57, 19], [58, 66], [58, 20], [59, 99], [61, 27], [63, 16], [66, 89], [66, 1], [67, 59], [69, 73], [72, 45], [73, 27], [75, 23], [75, 7], [76, 58], [77, 1], [78, 39], [79, 22], [80, 41], [81, 65], [82, 86], [82, 83], [83, 77], [85, 86], [86, 83], [89, 64], [89, 47], [93, 24], [95, 23], [95, 14], [96, 47], [97, 73], [97, 17], [98, 35]]) == 15\nassert solution.maxEnvelopes([[6, 22], [14, 17], [16, 93], [18, 27], [22, 100], [23, 52], [27, 50], [31, 16], [45, 63], [49, 100], [55, 80], [59, 95], [59, 84], [60, 41], [63, 21], [63, 19], [64, 47], [86, 62], [87, 3], [94, 33], [98, 58]]) == 6\nassert solution.maxEnvelopes([[1, 57], [7, 37], [7, 6], [8, 1], [9, 69], [10, 76], [11, 61], [11, 12], [15, 22], [16, 68], [16, 26], [17, 67], [18, 5], [20, 71], [20, 24], [20, 15], [22, 8], [23, 79], [24, 82], [25, 38], [27, 86], [27, 63], [27, 5], [28, 31], [29, 9], [32, 95], [35, 66], [38, 65], [39, 37], [40, 36], [40, 29], [42, 64], [42, 5], [44, 89], [45, 37], [46, 43], [48, 71], [49, 86], [51, 80], [52, 12], [53, 89], [53, 23], [54, 55], [55, 36], [57, 40], [58, 72], [60, 95], [60, 22], [61, 83], [63, 50], [64, 33], [65, 80], [66, 67], [67, 36], [67, 33], [68, 73], [68, 27], [70, 96], [73, 92], [73, 33], [73, 22], [79, 18], [80, 33], [81, 99], [81, 93], [82, 75], [82, 6], [85, 57], [85, 40], [86, 37], [89, 93], [89, 88], [89, 35], [90, 94], [90, 58], [91, 27], [92, 100], [92, 65], [92, 38], [93, 94], [94, 64], [96, 6], [97, 89], [98, 32], [100, 67], [100, 52]]) == 15\nassert solution.maxEnvelopes([[6, 45], [6, 9], [9, 88], [10, 10], [15, 39], [17, 61], [19, 95], [20, 69], [21, 54], [22, 35], [23, 46], [24, 51], [24, 19], [28, 78], [29, 35], [30, 45], [37, 16], [37, 5], [39, 18], [40, 20], [41, 21], [44, 48], [45, 48], [46, 94], [47, 39], [47, 6], [52, 88], [53, 7], [54, 74], [55, 82], [58, 91], [64, 53], [64, 16], [65, 84], [65, 73], [66, 95], [67, 58], [70, 30], [75, 6], [76, 26], [77, 74], [80, 53], [81, 13], [82, 73], [83, 87], [84, 4], [85, 50], [86, 68], [86, 21], [87, 75], [88, 74], [90, 32], [91, 57], [93, 72], [93, 54], [94, 69], [95, 28], [98, 9], [99, 19], [100, 68], [100, 21]]) == 11\nassert solution.maxEnvelopes([[4, 64], [6, 6], [7, 68], [7, 40], [9, 51], [9, 35], [10, 90], [15, 21], [15, 7], [19, 8], [20, 62], [20, 49], [20, 9], [23, 53], [26, 62], [26, 11], [26, 7], [30, 94], [30, 31], [31, 96], [32, 98], [33, 75], [36, 91], [36, 69], [37, 78], [37, 26], [42, 25], [43, 86], [43, 69], [47, 33], [48, 100], [48, 58], [48, 53], [48, 50], [48, 31], [49, 40], [51, 90], [53, 72], [53, 36], [54, 27], [56, 54], [59, 51], [61, 66], [61, 44], [62, 43], [63, 21], [66, 33], [71, 11], [76, 28], [81, 30], [83, 21], [84, 71], [85, 68], [88, 37], [89, 40], [92, 68], [93, 24], [94, 63], [94, 28], [99, 88], [100, 99]]) == 14\nassert solution.maxEnvelopes([[13, 98], [23, 15], [42, 50], [68, 36], [91, 53]]) == 3\nassert solution.maxEnvelopes([[1, 5], [4, 100], [4, 10], [5, 68], [5, 6], [10, 35], [13, 65], [16, 6], [18, 58], [22, 91], [22, 91], [23, 54], [23, 45], [24, 76], [29, 2], [31, 5], [34, 47], [35, 26], [36, 93], [37, 44], [39, 73], [40, 60], [40, 31], [40, 13], [43, 43], [43, 32], [47, 23], [48, 89], [54, 66], [58, 66], [60, 70], [62, 31], [64, 28], [74, 74], [74, 47], [75, 1], [76, 16], [79, 34], [79, 11], [80, 45], [81, 73], [82, 100], [83, 89], [87, 91], [88, 11], [90, 47], [98, 26], [98, 8], [99, 3], [100, 32]]) == 11\nassert solution.maxEnvelopes([[1, 40], [4, 91], [4, 49], [5, 70], [5, 63], [6, 59], [7, 72], [7, 27], [9, 81], [9, 74], [9, 3], [12, 76], [12, 39], [12, 32], [14, 44], [14, 18], [16, 96], [16, 76], [16, 39], [16, 24], [16, 8], [20, 72], [21, 59], [22, 74], [22, 21], [22, 9], [24, 70], [24, 1], [26, 27], [30, 4], [33, 79], [33, 67], [33, 63], [34, 80], [34, 47], [36, 58], [38, 24], [39, 78], [40, 89], [40, 25], [40, 14], [41, 70], [44, 16], [45, 35], [46, 96], [46, 81], [46, 18], [47, 11], [48, 34], [48, 9], [49, 53], [50, 17], [51, 81], [51, 39], [52, 20], [54, 11], [55, 69], [55, 42], [56, 97], [56, 21], [57, 84], [57, 3], [59, 57], [60, 86], [60, 46], [60, 14], [62, 37], [62, 32], [63, 57], [64, 44], [65, 40], [66, 75], [67, 40], [68, 23], [69, 1], [71, 30], [72, 30], [75, 57], [75, 30], [76, 77], [80, 31], [82, 28], [83, 62], [85, 88], [86, 25], [88, 58], [90, 22], [91, 89], [91, 49], [91, 47], [93, 92], [96, 91], [96, 47], [96, 18]]) == 16\nassert solution.maxEnvelopes([[1, 31], [5, 81], [7, 9], [9, 5], [15, 35], [17, 74], [21, 40], [21, 30], [24, 43], [25, 70], [26, 89], [28, 20], [33, 64], [36, 89], [37, 63], [37, 4], [39, 15], [43, 6], [46, 63], [49, 66], [50, 69], [52, 78], [55, 15], [57, 4], [59, 58], [59, 51], [59, 35], [60, 49], [61, 50], [63, 97], [64, 96], [65, 12], [66, 43], [69, 54], [69, 15], [69, 6], [71, 88], [71, 71], [71, 3], [72, 97], [75, 70], [75, 52], [76, 86], [76, 82], [77, 48], [78, 52], [81, 78], [82, 28], [83, 31], [85, 9], [86, 54], [87, 37], [88, 83], [93, 54], [94, 37], [95, 69], [95, 63], [95, 10]]) == 10\nassert solution.maxEnvelopes([[1, 58], [7, 63], [7, 49], [8, 15], [9, 38], [10, 24], [11, 55], [11, 2], [12, 77], [12, 77], [13, 84], [14, 20], [16, 55], [16, 23], [17, 11], [18, 77], [18, 21], [19, 83], [19, 36], [20, 1], [23, 77], [25, 51], [28, 56], [30, 19], [31, 24], [33, 56], [35, 41], [35, 20], [37, 35], [37, 6], [40, 22], [46, 93], [48, 27], [49, 18], [50, 49], [50, 38], [50, 35], [51, 38], [51, 23], [53, 5], [56, 36], [56, 28], [57, 24], [58, 11], [59, 98], [61, 59], [61, 29], [61, 15], [62, 25], [63, 57], [65, 16], [66, 100], [66, 24], [67, 29], [67, 25], [68, 88], [68, 13], [69, 19], [70, 56], [71, 60], [71, 26], [71, 15], [72, 19], [73, 30], [75, 22], [75, 21], [76, 95], [76, 81], [77, 74], [77, 18], [78, 77], [79, 43], [79, 26], [81, 42], [81, 25], [89, 39], [90, 42], [91, 94], [91, 52], [91, 4], [93, 50], [96, 64], [96, 63], [99, 20]]) == 14\nassert solution.maxEnvelopes([[1, 24], [8, 77], [10, 48], [15, 45], [20, 24], [32, 45], [32, 9], [36, 10], [43, 58], [54, 47], [54, 37], [62, 64], [65, 47], [75, 87], [88, 76], [96, 50], [99, 76]]) == 6\nassert solution.maxEnvelopes([[2, 41], [5, 36], [5, 25], [6, 34], [7, 48], [7, 6], [10, 42], [11, 38], [16, 47], [17, 70], [19, 3], [25, 45], [29, 4], [30, 54], [31, 73], [38, 3], [39, 95], [40, 71], [42, 25], [50, 46], [55, 77], [57, 77], [67, 59], [69, 75], [71, 60], [77, 3], [78, 16], [81, 95], [83, 68], [83, 20], [87, 16], [95, 24], [96, 44], [98, 95], [98, 52]]) == 9\nassert solution.maxEnvelopes([[1, 28], [4, 10], [5, 67], [6, 77], [7, 62], [9, 93], [12, 46], [13, 70], [14, 68], [17, 86], [17, 57], [17, 41], [21, 26], [22, 27], [23, 91], [23, 31], [24, 85], [26, 67], [26, 18], [27, 52], [28, 12], [29, 27], [30, 23], [34, 99], [37, 17], [38, 51], [38, 17], [39, 56], [40, 81], [42, 85], [42, 17], [43, 87], [44, 23], [46, 29], [48, 91], [49, 98], [50, 80], [53, 48], [53, 37], [53, 35], [55, 84], [56, 35], [58, 58], [59, 56], [59, 10], [61, 20], [62, 66], [63, 71], [65, 72], [65, 43], [66, 60], [67, 83], [67, 40], [69, 61], [72, 82], [72, 10], [73, 27], [74, 73], [74, 10], [75, 11], [76, 83], [78, 43], [78, 33], [78, 8], [79, 80], [80, 63], [80, 58], [81, 34], [82, 17], [84, 45], [86, 99], [86, 40], [87, 39], [88, 35], [88, 18], [89, 55], [90, 1], [91, 94], [91, 67], [91, 46], [92, 72], [92, 66], [93, 89], [93, 57], [93, 9], [94, 77], [95, 26], [96, 41], [97, 35], [99, 14], [100, 90], [100, 35], [100, 24]]) == 14\nassert solution.maxEnvelopes([[3, 20], [4, 14], [8, 84], [8, 46], [10, 6], [14, 54], [17, 93], [17, 69], [17, 41], [17, 23], [17, 6], [19, 12], [20, 79], [20, 64], [25, 35], [25, 19], [27, 6], [28, 55], [33, 8], [34, 41], [35, 90], [36, 36], [36, 12], [39, 68], [39, 61], [40, 98], [40, 74], [42, 85], [44, 96], [44, 42], [45, 39], [47, 2], [48, 74], [49, 49], [50, 54], [51, 23], [52, 67], [54, 100], [55, 59], [56, 73], [57, 82], [57, 65], [58, 39], [58, 29], [61, 1], [64, 96], [68, 39], [72, 96], [73, 78], [73, 76], [73, 75], [75, 66], [76, 51], [78, 76], [82, 69], [84, 49], [85, 33], [87, 6], [92, 37], [93, 42], [94, 35], [95, 22], [97, 91], [97, 86]]) == 12\nassert solution.maxEnvelopes([[1, 58], [1, 2], [3, 92], [3, 62], [4, 62], [4, 36], [6, 40], [7, 69], [7, 31], [8, 50], [8, 22], [9, 98], [9, 30], [11, 93], [12, 83], [14, 88], [15, 65], [17, 45], [18, 93], [18, 58], [18, 1], [24, 4], [25, 23], [26, 60], [26, 49], [26, 16], [28, 78], [28, 47], [29, 66], [29, 31], [29, 27], [29, 14], [33, 9], [34, 57], [34, 50], [35, 55], [35, 38], [36, 81], [36, 50], [39, 84], [41, 65], [41, 10], [42, 93], [43, 86], [47, 15], [50, 87], [50, 56], [51, 38], [53, 78], [58, 47], [58, 41], [59, 10], [60, 63], [62, 80], [63, 57], [63, 24], [64, 15], [66, 5], [68, 44], [70, 18], [72, 16], [72, 1], [76, 100], [76, 74], [78, 82], [78, 75], [78, 20], [79, 65], [79, 61], [79, 24], [80, 43], [81, 50], [82, 16], [85, 51], [86, 58], [86, 14], [87, 74], [87, 64], [87, 41], [88, 100], [89, 18], [90, 49], [90, 23], [93, 89], [93, 76], [94, 27], [95, 53], [95, 52], [97, 52], [97, 6], [98, 22], [99, 90], [99, 42], [100, 82], [100, 82], [100, 81], [100, 41]]) == 15\nassert solution.maxEnvelopes([[4, 32], [5, 5], [14, 21], [26, 21], [35, 97], [39, 81], [58, 21], [67, 86], [68, 62], [81, 61], [87, 23], [87, 22], [89, 3], [100, 27]]) == 4\nassert solution.maxEnvelopes([[8, 54], [9, 82], [11, 85], [11, 84], [11, 60], [12, 84], [16, 20], [20, 95], [22, 49], [23, 69], [23, 35], [25, 14], [27, 47], [28, 44], [29, 33], [29, 28], [29, 15], [30, 13], [30, 13], [31, 12], [34, 87], [37, 79], [40, 53], [41, 39], [43, 39], [48, 64], [48, 60], [48, 48], [49, 42], [50, 48], [51, 95], [52, 93], [59, 1], [61, 17], [65, 93], [76, 72], [77, 68], [78, 17], [84, 20], [85, 44], [89, 17], [90, 69], [92, 31], [97, 81]]) == 8\nassert solution.maxEnvelopes([[85, 32]]) == 1\nassert solution.maxEnvelopes([[1, 87], [2, 84], [2, 35], [3, 14], [6, 38], [8, 74], [8, 47], [8, 33], [9, 21], [11, 52], [11, 40], [12, 13], [14, 32], [16, 9], [18, 78], [18, 28], [19, 84], [20, 90], [20, 71], [20, 5], [21, 91], [21, 63], [21, 54], [21, 47], [21, 18], [22, 82], [23, 52], [23, 31], [25, 46], [25, 28], [25, 8], [27, 30], [28, 87], [28, 43], [28, 36], [29, 8], [36, 94], [37, 76], [38, 53], [38, 50], [38, 32], [38, 16], [42, 55], [43, 48], [44, 81], [46, 64], [46, 48], [46, 20], [47, 86], [47, 22], [48, 23], [49, 1], [54, 48], [54, 8], [56, 47], [61, 81], [61, 57], [62, 59], [63, 37], [64, 50], [67, 22], [67, 16], [69, 60], [70, 54], [70, 12], [71, 88], [72, 87], [72, 47], [74, 51], [75, 64], [77, 87], [79, 96], [79, 80], [79, 70], [80, 65], [81, 72], [81, 14], [82, 99], [82, 63], [82, 54], [82, 21], [83, 65], [87, 84], [87, 72], [87, 42], [87, 6], [88, 33], [90, 75], [91, 66], [92, 47], [92, 23], [92, 17], [93, 42], [94, 99], [94, 10], [95, 26], [97, 4], [98, 34], [98, 11], [99, 15]]) == 15\nassert solution.maxEnvelopes([[2, 86], [6, 82], [6, 20], [9, 3], [10, 71], [11, 48], [16, 18], [18, 85], [18, 6], [19, 94], [19, 33], [22, 12], [23, 60], [23, 42], [25, 43], [25, 39], [26, 81], [27, 33], [29, 32], [31, 44], [32, 8], [34, 17], [34, 10], [35, 80], [36, 29], [44, 8], [45, 77], [45, 36], [46, 89], [46, 5], [47, 39], [47, 31], [48, 9], [49, 63], [49, 62], [49, 5], [52, 35], [54, 41], [55, 76], [55, 76], [56, 56], [56, 16], [58, 18], [59, 4], [60, 67], [60, 62], [60, 35], [60, 23], [61, 58], [63, 69], [63, 29], [63, 1], [64, 10], [65, 90], [65, 78], [66, 41], [67, 14], [77, 33], [78, 64], [79, 3], [81, 7], [83, 61], [83, 43], [83, 41], [84, 33], [88, 70], [91, 8], [93, 40], [93, 38], [94, 5], [97, 61], [98, 78], [98, 12], [99, 14]]) == 13\nassert solution.maxEnvelopes([[5, 10], [14, 87], [14, 29], [18, 19], [22, 39], [23, 94], [26, 97], [26, 74], [26, 19], [27, 100], [27, 69], [29, 24], [30, 97], [36, 2], [40, 85], [47, 15], [49, 5], [52, 18], [54, 58], [59, 69], [61, 90], [63, 4], [64, 13], [67, 11], [70, 50], [71, 7], [72, 40], [74, 56], [74, 5], [75, 48], [76, 25], [78, 83], [78, 78], [80, 72], [82, 63], [83, 54], [87, 28], [88, 18], [90, 51], [97, 2], [100, 27]]) == 6\nassert solution.maxEnvelopes([[3, 60], [3, 40], [4, 98], [5, 5], [6, 44], [6, 9], [10, 80], [10, 66], [13, 41], [13, 32], [14, 78], [15, 100], [15, 95], [15, 80], [15, 13], [17, 99], [22, 99], [22, 96], [22, 56], [22, 6], [23, 69], [23, 25], [24, 98], [25, 38], [30, 64], [31, 29], [34, 52], [34, 39], [37, 47], [39, 20], [41, 54], [46, 88], [47, 22], [48, 96], [49, 29], [50, 67], [53, 92], [56, 11], [59, 14], [59, 14], [61, 84], [62, 74], [63, 68], [63, 56], [64, 80], [64, 25], [65, 65], [65, 11], [66, 49], [66, 8], [68, 93], [69, 89], [69, 76], [69, 1], [70, 63], [72, 93], [72, 23], [73, 48], [73, 2], [74, 20], [76, 64], [77, 69], [78, 89], [78, 15], [79, 83], [79, 76], [79, 3], [80, 88], [80, 68], [80, 21], [82, 100], [83, 16], [84, 52], [85, 2], [86, 65], [89, 48], [89, 43], [90, 74], [90, 64], [91, 75], [93, 44], [93, 34], [93, 1], [96, 70], [97, 56], [98, 28], [99, 59], [100, 82], [100, 18]]) == 15\nassert solution.maxEnvelopes([[2, 73], [2, 26], [3, 31], [5, 94], [6, 48], [7, 62], [7, 33], [9, 75], [12, 73], [12, 68], [13, 83], [13, 14], [16, 61], [16, 42], [16, 26], [17, 29], [18, 77], [19, 82], [20, 52], [21, 70], [21, 56], [22, 49], [24, 54], [26, 48], [28, 5], [29, 47], [29, 20], [31, 58], [31, 39], [32, 73], [33, 14], [34, 80], [36, 59], [36, 36], [37, 7], [38, 12], [39, 56], [39, 49], [40, 92], [41, 33], [42, 68], [42, 54], [43, 92], [43, 35], [44, 21], [45, 89], [47, 42], [50, 71], [50, 38], [50, 11], [51, 28], [51, 27], [56, 20], [57, 59], [58, 95], [58, 62], [61, 39], [62, 72], [62, 44], [64, 97], [64, 77], [64, 73], [64, 1], [65, 77], [66, 61], [66, 38], [67, 30], [67, 28], [68, 87], [68, 46], [68, 40], [69, 9], [71, 69], [79, 61], [79, 11], [80, 79], [83, 87], [85, 47], [85, 43], [87, 55], [91, 15], [92, 87], [92, 48], [94, 35], [98, 52], [98, 44], [100, 71]]) == 15\nassert solution.maxEnvelopes([[3, 94], [3, 90], [4, 37], [4, 32], [5, 82], [5, 73], [8, 33], [8, 15], [9, 50], [9, 29], [11, 50], [12, 17], [13, 79], [13, 33], [14, 71], [15, 82], [15, 69], [15, 51], [16, 84], [16, 48], [17, 44], [20, 81], [22, 83], [24, 19], [25, 61], [25, 16], [26, 81], [27, 17], [29, 30], [32, 46], [34, 46], [35, 97], [35, 53], [35, 24], [36, 19], [37, 90], [37, 49], [40, 29], [40, 25], [43, 95], [43, 34], [43, 22], [47, 42], [48, 47], [50, 71], [51, 23], [53, 85], [53, 30], [54, 9], [56, 85], [58, 44], [59, 14], [63, 6], [65, 73], [66, 97], [69, 67], [70, 40], [70, 2], [71, 93], [71, 88], [71, 65], [71, 41], [72, 94], [75, 45], [77, 26], [79, 28], [82, 83], [82, 32], [82, 7], [86, 56], [87, 93], [87, 6], [88, 27], [90, 75], [90, 59], [90, 40], [90, 22], [90, 10], [91, 66], [92, 87], [92, 43], [92, 25], [93, 70], [93, 46], [93, 10], [95, 8], [97, 67], [98, 79], [98, 14], [99, 82]]) == 16\nassert solution.maxEnvelopes([[3, 94], [6, 46], [10, 19], [10, 11], [14, 26], [15, 72], [25, 75], [33, 89], [40, 97], [46, 80], [50, 97], [51, 100], [53, 73], [57, 75], [59, 57], [59, 35], [60, 43], [62, 80], [64, 44], [64, 36], [70, 60], [70, 21], [71, 35], [72, 76], [75, 58], [82, 14], [85, 58], [85, 33], [87, 19], [92, 39], [95, 93]]) == 8\nassert solution.maxEnvelopes([[1, 60], [2, 19], [6, 28], [7, 52], [7, 10], [8, 87], [10, 52], [11, 72], [11, 57], [11, 41], [11, 38], [13, 14], [13, 11], [14, 68], [16, 58], [17, 95], [17, 22], [19, 47], [20, 54], [20, 31], [22, 4], [23, 26], [29, 18], [30, 32], [34, 73], [34, 52], [35, 1], [36, 68], [37, 57], [37, 43], [39, 25], [39, 5], [40, 75], [40, 67], [40, 11], [40, 10], [42, 24], [43, 67], [45, 70], [45, 35], [46, 89], [46, 56], [48, 68], [49, 53], [49, 19], [50, 40], [52, 76], [52, 53], [53, 29], [54, 89], [54, 25], [55, 69], [55, 19], [56, 76], [57, 69], [58, 69], [58, 13], [60, 31], [60, 19], [63, 60], [65, 98], [65, 39], [65, 10], [69, 86], [69, 25], [69, 8], [71, 99], [71, 34], [72, 26], [73, 93], [75, 98], [75, 5], [76, 7], [79, 36], [83, 32], [84, 96], [84, 62], [84, 11], [86, 71], [86, 35], [88, 81], [90, 56], [91, 26], [92, 5], [94, 94], [94, 35], [95, 46], [97, 19], [99, 93], [100, 15]]) == 14\nassert solution.maxEnvelopes([[3, 30], [4, 15], [9, 63], [10, 51], [10, 40], [11, 14], [12, 91], [14, 11], [17, 44], [17, 39], [19, 86], [20, 52], [22, 61], [25, 33], [26, 73], [26, 61], [26, 2], [28, 78], [28, 13], [28, 12], [29, 60], [31, 77], [32, 63], [32, 7], [33, 64], [33, 58], [33, 28], [33, 27], [33, 9], [33, 5], [33, 1], [36, 37], [37, 36], [39, 72], [42, 44], [43, 22], [44, 44], [45, 93], [48, 83], [48, 45], [49, 26], [49, 17], [51, 78], [52, 20], [56, 88], [56, 62], [56, 59], [57, 16], [59, 64], [60, 48], [62, 5], [65, 98], [69, 46], [69, 37], [70, 86], [71, 17], [71, 9], [72, 71], [73, 27], [74, 48], [77, 38], [77, 17], [78, 47], [82, 74], [83, 86], [84, 63], [84, 22], [92, 29], [93, 51], [94, 95], [94, 82], [94, 59], [95, 82], [95, 30], [96, 78], [96, 17], [98, 95], [98, 4], [99, 100], [100, 89]]) == 13\nassert solution.maxEnvelopes([[13, 76], [13, 26], [13, 19], [16, 45], [16, 30], [17, 30], [18, 41], [18, 5], [20, 20], [21, 31], [24, 31], [25, 78], [30, 56], [35, 7], [35, 3], [39, 2], [48, 27], [51, 12], [55, 8], [55, 8], [58, 8], [61, 90], [62, 47], [64, 88], [69, 40], [76, 28], [82, 98], [83, 57], [84, 25], [87, 47], [89, 92], [90, 64], [94, 25], [95, 64], [100, 60]]) == 6\nassert solution.maxEnvelopes([[1, 79], [4, 92], [4, 53], [11, 37], [12, 78], [12, 59], [12, 34], [17, 89], [17, 71], [19, 74], [22, 34], [25, 97], [33, 31], [36, 62], [37, 88], [39, 82], [41, 81], [51, 83], [52, 51], [55, 39], [62, 98], [63, 49], [65, 35], [69, 55], [70, 38], [72, 45], [77, 51], [80, 57], [82, 95], [82, 42], [83, 57], [83, 42], [84, 9], [86, 82], [88, 33], [90, 97], [96, 85], [96, 84], [96, 67], [97, 4], [98, 64], [99, 49]]) == 8\nassert solution.maxEnvelopes([[1, 34], [3, 88], [3, 63], [4, 83], [4, 80], [5, 58], [8, 32], [10, 25], [13, 1], [14, 45], [15, 18], [20, 88], [20, 24], [21, 63], [21, 21], [24, 83], [25, 67], [26, 63], [29, 62], [39, 72], [42, 57], [43, 43], [45, 100], [45, 92], [48, 88], [50, 97], [50, 87], [50, 58], [50, 49], [52, 43], [56, 51], [72, 39], [72, 4], [80, 18], [81, 26], [87, 12], [97, 16]]) == 8\nassert solution.maxEnvelopes([[2, 100], [3, 75], [3, 60], [3, 47], [5, 62], [5, 56], [5, 41], [6, 43], [6, 22], [8, 43], [9, 86], [11, 55], [12, 34], [12, 26], [13, 7], [15, 26], [16, 35], [17, 38], [18, 12], [20, 69], [21, 76], [22, 28], [23, 86], [25, 83], [27, 57], [27, 13], [28, 14], [29, 48], [29, 9], [30, 1], [31, 53], [33, 18], [34, 42], [37, 72], [39, 88], [39, 19], [40, 43], [40, 38], [43, 56], [43, 44], [43, 32], [44, 97], [44, 91], [44, 71], [44, 24], [44, 2], [45, 85], [46, 58], [48, 40], [49, 99], [49, 14], [55, 84], [55, 62], [55, 28], [57, 94], [57, 29], [58, 89], [58, 38], [59, 86], [60, 47], [61, 7], [62, 50], [63, 31], [64, 30], [66, 23], [67, 57], [67, 16], [70, 54], [73, 3], [74, 41], [75, 93], [75, 75], [75, 44], [75, 14], [77, 54], [78, 62], [78, 24], [79, 72], [80, 46], [80, 3], [81, 57], [82, 79], [84, 62], [89, 25], [90, 65], [92, 23], [94, 93], [94, 55], [94, 8], [95, 44], [97, 75], [97, 58], [97, 15], [99, 41], [99, 15], [100, 95], [100, 74]]) == 18\nassert solution.maxEnvelopes([[1, 60], [2, 76], [2, 50], [2, 32], [3, 92], [4, 55], [6, 7], [10, 84], [11, 86], [14, 5], [15, 87], [18, 63], [19, 81], [19, 58], [22, 12], [24, 91], [24, 70], [24, 65], [26, 99], [30, 24], [30, 16], [33, 43], [34, 13], [35, 71], [38, 35], [39, 46], [39, 15], [41, 42], [46, 90], [46, 83], [47, 34], [48, 62], [50, 60], [52, 87], [52, 8], [53, 7], [54, 62], [55, 30], [58, 45], [61, 70], [62, 63], [62, 21], [62, 13], [66, 1], [67, 19], [68, 38], [69, 75], [70, 8], [72, 53], [73, 83], [75, 87], [75, 23], [76, 93], [76, 58], [77, 46], [78, 99], [79, 75], [79, 7], [81, 10], [83, 72], [83, 48], [84, 38], [86, 39], [88, 85], [89, 38], [90, 14], [91, 11], [91, 5], [92, 12], [94, 85], [95, 59], [96, 35], [97, 77], [98, 82], [98, 74], [99, 89]]) == 13\nassert solution.maxEnvelopes([[2, 86], [2, 36], [4, 54], [6, 15], [7, 46], [7, 25], [10, 93], [11, 14], [14, 79], [15, 13], [18, 80], [20, 20], [21, 9], [23, 67], [23, 29], [23, 24], [26, 89], [28, 53], [30, 41], [31, 77], [31, 57], [32, 25], [33, 19], [34, 40], [34, 26], [36, 50], [37, 100], [39, 18], [42, 32], [43, 79], [44, 93], [45, 33], [47, 5], [48, 16], [52, 95], [53, 39], [54, 55], [54, 1], [56, 84], [56, 47], [56, 46], [57, 82], [59, 95], [59, 42], [59, 15], [60, 17], [60, 17], [61, 72], [61, 32], [62, 58], [66, 80], [66, 59], [69, 99], [69, 96], [69, 34], [70, 48], [73, 56], [73, 20], [75, 92], [77, 9], [78, 85], [78, 56], [78, 18], [79, 70], [81, 82], [82, 22], [83, 86], [83, 22], [86, 81], [86, 16], [89, 43], [89, 13], [90, 14], [92, 73], [92, 11], [96, 80], [97, 32], [97, 1], [99, 72]]) == 14\nassert solution.maxEnvelopes([[3, 79], [25, 95], [25, 50], [26, 41], [27, 70], [40, 18], [51, 26], [53, 1], [60, 9], [65, 23], [67, 16], [81, 75], [84, 69], [89, 69], [89, 62], [89, 20], [91, 46]]) == 5\nassert solution.maxEnvelopes([[4, 86], [11, 62], [17, 79], [31, 91], [37, 97], [79, 79], [97, 45]]) == 4\nassert solution.maxEnvelopes([[2, 1], [5, 59], [8, 20], [12, 86], [12, 26], [14, 73], [14, 49], [16, 89], [19, 33], [19, 13], [20, 50], [27, 4], [31, 30], [34, 36], [36, 68], [38, 43], [39, 24], [42, 97], [42, 39], [45, 65], [45, 62], [47, 56], [49, 74], [49, 42], [50, 19], [52, 54], [55, 90], [55, 38], [56, 94], [56, 57], [58, 29], [58, 22], [59, 80], [61, 97], [62, 74], [62, 7], [65, 65], [70, 2], [71, 100], [71, 53], [72, 22], [73, 63], [73, 26], [75, 98], [78, 91], [79, 94], [80, 84], [82, 56], [82, 54], [83, 99], [87, 59], [90, 57], [90, 49], [93, 24], [94, 71], [95, 76], [98, 90], [99, 90]]) == 13\nassert solution.maxEnvelopes([[2, 89], [2, 86], [2, 39], [3, 23], [4, 34], [6, 28], [8, 24], [9, 89], [10, 13], [13, 87], [13, 60], [13, 60], [13, 48], [14, 32], [15, 70], [18, 66], [20, 71], [21, 32], [24, 7], [25, 67], [25, 28], [25, 5], [27, 72], [28, 36], [29, 74], [29, 63], [31, 73], [32, 62], [32, 19], [34, 20], [36, 28], [38, 100], [38, 87], [39, 54], [41, 67], [42, 10], [43, 28], [43, 12], [44, 96], [44, 90], [44, 5], [45, 96], [45, 85], [45, 61], [45, 26], [46, 76], [47, 50], [49, 23], [50, 17], [52, 47], [54, 3], [55, 4], [56, 14], [58, 69], [58, 60], [58, 46], [59, 43], [59, 40], [59, 27], [60, 65], [61, 7], [64, 11], [66, 70], [66, 8], [67, 34], [68, 4], [68, 1], [69, 56], [69, 47], [71, 95], [71, 54], [73, 94], [76, 93], [77, 76], [81, 72], [81, 66], [82, 20], [83, 43], [83, 27], [84, 47], [85, 37], [86, 6], [88, 92], [88, 40], [92, 85], [93, 74], [93, 70], [96, 94], [96, 11], [97, 43], [97, 1], [98, 53], [98, 12], [99, 24]]) == 11\nassert solution.maxEnvelopes([[7, 82], [14, 1], [28, 47], [33, 42], [39, 32], [47, 88], [47, 79], [49, 26], [57, 74], [62, 50], [75, 74], [93, 97]]) == 5\nassert solution.maxEnvelopes([[8, 27], [9, 22], [58, 98], [72, 55]]) == 2\nassert solution.maxEnvelopes([[8, 10], [17, 78], [17, 35], [19, 9], [24, 96], [29, 43], [29, 37], [31, 13], [33, 23], [39, 86], [41, 64], [59, 80], [65, 50], [68, 48], [76, 79]]) == 5\nassert solution.maxEnvelopes([[3, 99], [6, 61], [7, 45], [10, 13], [14, 31], [16, 24], [19, 35], [22, 77], [22, 40], [22, 24], [28, 65], [30, 76], [33, 85], [33, 71], [33, 64], [34, 89], [39, 88], [40, 95], [46, 67], [51, 17], [59, 36], [60, 83], [62, 61], [67, 68], [80, 63], [81, 60], [85, 71], [90, 98], [96, 2], [97, 67], [98, 70]]) == 10\nassert solution.maxEnvelopes([[2, 79], [2, 7], [4, 81], [4, 52], [5, 58], [7, 99], [7, 98], [9, 32], [9, 7], [10, 66], [12, 26], [13, 3], [14, 51], [14, 26], [17, 89], [18, 100], [18, 72], [22, 13], [24, 89], [25, 75], [32, 61], [35, 41], [37, 95], [37, 48], [40, 54], [40, 17], [42, 85], [42, 49], [43, 49], [46, 61], [46, 21], [46, 2], [47, 21], [48, 16], [49, 69], [51, 40], [53, 35], [53, 3], [58, 14], [59, 30], [60, 96], [62, 85], [63, 69], [65, 11], [66, 99], [68, 28], [72, 19], [73, 47], [73, 1], [75, 28], [76, 54], [77, 33], [77, 22], [80, 31], [80, 14], [84, 39], [86, 34], [88, 31], [90, 30], [98, 83], [98, 70], [100, 89], [100, 74]]) == 9\nassert solution.maxEnvelopes([[3, 8], [4, 47], [7, 24], [13, 17], [21, 14], [23, 11], [26, 29], [26, 13], [27, 77], [27, 27], [28, 1], [29, 15], [31, 99], [31, 60], [33, 99], [35, 96], [39, 11], [41, 86], [45, 50], [50, 72], [55, 91], [65, 36], [67, 28], [69, 34], [72, 45], [75, 31], [84, 7], [97, 100], [97, 89], [98, 98], [98, 60], [99, 95]]) == 9\nassert solution.maxEnvelopes([[13, 77], [20, 60], [33, 33], [49, 28], [69, 39], [84, 52], [92, 65], [99, 99]]) == 5\nassert solution.maxEnvelopes([[1, 44], [4, 99], [9, 50], [11, 13], [13, 92], [15, 46], [16, 43], [17, 42], [17, 26], [20, 83], [21, 48], [23, 16], [25, 56], [28, 86], [30, 77], [31, 98], [33, 45], [35, 15], [41, 66], [44, 3], [46, 13], [47, 47], [51, 55], [51, 43], [54, 44], [56, 41], [56, 38], [61, 59], [63, 83], [64, 13], [69, 25], [75, 62], [77, 90], [78, 98], [79, 52], [79, 44], [80, 88], [80, 13], [86, 8], [90, 11], [91, 38], [94, 77]]) == 9\nassert solution.maxEnvelopes([[5, 33], [7, 90], [8, 74], [11, 97], [11, 13], [15, 19], [16, 22], [16, 18], [19, 53], [19, 34], [24, 63], [25, 36], [25, 36], [26, 66], [27, 30], [27, 25], [28, 86], [37, 99], [37, 80], [37, 75], [37, 13], [38, 87], [42, 10], [43, 47], [43, 12], [47, 98], [47, 3], [48, 62], [48, 57], [49, 29], [55, 72], [68, 30], [69, 100], [71, 78], [77, 58], [79, 58], [79, 20], [80, 64], [83, 63], [86, 82], [87, 7], [88, 7], [90, 90], [90, 89], [93, 100], [95, 60], [95, 24], [96, 10], [96, 1], [99, 75], [99, 13]]) == 12\nassert solution.maxEnvelopes([[1, 76], [1, 17], [3, 77], [4, 71], [5, 85], [7, 41], [7, 37], [8, 61], [9, 85], [11, 74], [14, 65], [14, 32], [14, 28], [16, 88], [17, 21], [19, 32], [21, 11], [21, 7], [23, 14], [28, 92], [30, 70], [31, 12], [35, 45], [35, 25], [36, 97], [37, 89], [38, 69], [38, 1], [39, 78], [43, 69], [45, 13], [47, 93], [47, 22], [51, 51], [51, 35], [51, 20], [53, 15], [57, 69], [58, 7], [68, 91], [68, 68], [68, 50], [68, 26], [72, 48], [72, 7], [73, 74], [74, 51], [75, 27], [77, 99], [77, 64], [77, 15], [80, 67], [82, 7], [83, 77], [83, 46], [83, 22], [90, 85], [90, 2], [92, 43], [92, 16], [95, 74], [95, 13], [96, 40], [98, 93], [98, 83]]) == 12\nassert solution.maxEnvelopes([[1, 74], [1, 46], [5, 18], [6, 97], [8, 15], [9, 8], [10, 51], [13, 32], [14, 6], [15, 67], [19, 49], [20, 32], [20, 26], [21, 29], [23, 46], [24, 55], [24, 14], [26, 75], [26, 40], [26, 9], [26, 4], [28, 78], [29, 29], [29, 3], [35, 49], [37, 100], [38, 33], [47, 29], [50, 22], [51, 63], [52, 28], [53, 42], [55, 89], [57, 33], [58, 50], [59, 14], [61, 35], [63, 97], [67, 80], [69, 80], [69, 78], [69, 44], [74, 84], [76, 83], [76, 34], [76, 29], [80, 55], [81, 19], [83, 84], [85, 100], [85, 94], [85, 7], [89, 32], [93, 75], [94, 51], [96, 30], [98, 18], [98, 13], [99, 18]]) == 11\nassert solution.maxEnvelopes([[3, 69], [3, 9], [6, 12], [11, 19], [13, 17], [18, 78], [19, 19], [19, 2], [24, 56], [27, 24], [31, 49], [31, 22], [32, 24], [35, 93], [39, 89], [39, 84], [40, 78], [46, 95], [49, 91], [49, 44], [49, 34], [53, 100], [53, 39], [55, 46], [64, 23], [67, 8], [70, 44], [71, 45], [72, 56], [73, 97], [77, 53], [78, 94], [82, 18], [82, 17], [85, 21], [88, 26], [94, 80], [97, 57], [100, 14]]) == 12\nassert solution.maxEnvelopes([[7, 75], [9, 6], [20, 67], [23, 95], [24, 58], [26, 45], [36, 6], [38, 42], [41, 4], [45, 99], [55, 53], [58, 8], [69, 45], [70, 6], [99, 69]]) == 4\nassert solution.maxEnvelopes([[1, 77], [4, 44], [7, 26], [7, 19], [14, 55], [20, 26], [25, 61], [35, 43], [37, 96], [38, 65], [39, 94], [45, 38], [47, 76], [48, 94], [48, 52], [50, 66], [58, 63], [59, 95], [61, 54], [64, 1], [71, 76], [73, 48], [76, 62], [76, 42], [77, 57], [78, 84], [80, 78], [80, 24], [82, 25], [85, 87], [91, 75], [94, 81], [98, 30]]) == 8\nassert solution.maxEnvelopes([[1, 82], [1, 50], [4, 57], [5, 93], [5, 25], [6, 77], [6, 50], [6, 35], [7, 96], [7, 71], [9, 27], [10, 27], [11, 63], [11, 62], [12, 96], [13, 77], [14, 22], [14, 1], [17, 48], [19, 27], [19, 4], [20, 88], [20, 82], [26, 19], [27, 40], [29, 57], [29, 57], [29, 37], [29, 32], [29, 32], [31, 66], [31, 26], [36, 73], [36, 29], [36, 12], [37, 27], [39, 76], [39, 49], [39, 47], [41, 73], [41, 24], [42, 97], [42, 89], [43, 6], [44, 27], [45, 51], [47, 46], [47, 35], [48, 67], [49, 82], [50, 50], [52, 43], [52, 19], [53, 38], [54, 67], [55, 66], [57, 38], [57, 11], [58, 89], [58, 79], [58, 70], [61, 86], [64, 90], [66, 62], [67, 83], [67, 14], [68, 15], [69, 73], [70, 66], [71, 49], [75, 18], [75, 16], [76, 45], [77, 92], [77, 31], [77, 15], [79, 92], [79, 6], [80, 5], [82, 78], [84, 50], [84, 35], [87, 96], [88, 37], [90, 48], [93, 89], [96, 94], [96, 36], [98, 96], [98, 41], [99, 88]]) == 14\nassert solution.maxEnvelopes([[5, 43], [10, 57], [11, 71], [11, 55], [12, 59], [13, 55], [13, 53], [13, 18], [14, 17], [16, 98], [23, 38], [27, 63], [29, 87], [34, 5], [36, 55], [39, 46], [41, 48], [42, 58], [45, 83], [47, 18], [48, 48], [50, 25], [59, 100], [66, 97], [74, 29], [76, 50], [79, 36], [79, 9], [80, 75], [82, 80], [83, 42], [85, 37], [86, 24], [86, 10], [87, 93], [87, 48], [89, 85], [90, 94], [90, 28], [92, 23], [99, 27]]) == 9\nassert solution.maxEnvelopes([[2, 33], [4, 72], [4, 2], [5, 78], [5, 34], [6, 99], [7, 87], [7, 83], [8, 98], [11, 97], [17, 88], [17, 18], [18, 55], [25, 60], [25, 17], [26, 91], [27, 2], [30, 29], [31, 38], [32, 34], [32, 19], [34, 6], [35, 11], [36, 84], [36, 83], [37, 90], [39, 95], [41, 25], [41, 6], [42, 53], [45, 26], [46, 43], [48, 55], [49, 12], [49, 8], [50, 23], [51, 75], [51, 33], [54, 56], [56, 30], [59, 49], [61, 60], [62, 37], [63, 3], [66, 95], [67, 55], [69, 28], [71, 26], [73, 95], [73, 10], [74, 77], [74, 54], [75, 78], [76, 28], [79, 76], [79, 19], [80, 35], [83, 93], [84, 25], [84, 7], [85, 93], [85, 37], [88, 98], [89, 78], [89, 60], [92, 77], [92, 5], [93, 73], [96, 100], [100, 28]]) == 14\nassert solution.maxEnvelopes([[1, 23], [2, 53], [3, 29], [4, 78], [5, 10], [8, 97], [8, 67], [13, 30], [14, 61], [15, 20], [16, 58], [16, 51], [18, 6], [22, 81], [24, 99], [29, 55], [31, 65], [34, 27], [37, 71], [37, 21], [39, 70], [40, 35], [41, 47], [46, 40], [48, 68], [49, 52], [53, 79], [56, 97], [56, 54], [57, 33], [59, 8], [61, 21], [64, 43], [65, 91], [66, 48], [69, 98], [69, 61], [70, 28], [70, 18], [71, 8], [73, 48], [73, 11], [79, 6], [81, 83], [81, 82], [81, 23], [82, 2], [83, 93], [83, 81], [84, 87], [85, 60], [85, 18], [86, 61], [88, 76], [88, 24], [92, 86], [94, 70], [95, 59], [96, 7], [97, 97], [99, 50], [99, 15]]) == 12\nassert solution.maxEnvelopes([[3, 16], [3, 2], [5, 65], [5, 4], [7, 70], [10, 94], [10, 57], [13, 97], [13, 85], [16, 86], [16, 22], [17, 73], [17, 22], [17, 10], [21, 65], [21, 3], [22, 48], [23, 23], [24, 75], [26, 4], [27, 96], [28, 1], [29, 71], [29, 7], [30, 24], [31, 95], [31, 68], [37, 90], [37, 68], [37, 15], [37, 9], [38, 4], [39, 63], [41, 88], [42, 29], [44, 72], [45, 73], [48, 56], [48, 5], [49, 82], [50, 51], [51, 62], [51, 33], [51, 5], [52, 89], [52, 35], [52, 33], [53, 12], [54, 74], [55, 86], [55, 70], [55, 26], [56, 66], [56, 28], [57, 28], [58, 76], [59, 48], [59, 17], [60, 13], [61, 86], [64, 49], [64, 20], [64, 4], [66, 56], [66, 44], [67, 25], [70, 7], [72, 25], [72, 7], [73, 16], [74, 54], [78, 81], [78, 10], [79, 94], [80, 45], [80, 8], [83, 83], [87, 20], [87, 19], [88, 94], [88, 88], [89, 99], [94, 59], [96, 94], [96, 90], [98, 56], [98, 39], [98, 18], [99, 85], [99, 44]]) == 15\nassert solution.maxEnvelopes([[1, 90], [1, 68], [1, 51], [1, 49], [2, 16], [3, 2], [4, 63], [5, 98], [6, 41], [7, 18], [8, 19], [9, 59], [9, 31], [10, 55], [11, 47], [11, 16], [12, 27], [13, 24], [14, 46], [14, 26], [14, 3], [14, 3], [15, 89], [17, 47], [18, 15], [19, 88], [19, 68], [19, 36], [19, 32], [20, 83], [20, 81], [20, 29], [21, 56], [21, 36], [23, 96], [24, 48], [25, 34], [27, 41], [29, 34], [30, 73], [32, 99], [32, 89], [32, 45], [32, 42], [32, 12], [35, 45], [36, 84], [40, 80], [43, 60], [43, 20], [45, 27], [46, 36], [48, 94], [49, 77], [50, 67], [51, 27], [52, 91], [52, 84], [53, 37], [54, 91], [54, 72], [55, 78], [55, 69], [57, 22], [58, 72], [60, 92], [60, 29], [61, 35], [61, 33], [62, 65], [64, 76], [64, 61], [65, 69], [70, 19], [71, 77], [72, 91], [72, 7], [73, 72], [74, 38], [76, 15], [76, 11], [77, 65], [78, 93], [78, 52], [84, 13], [85, 11], [85, 6], [86, 92], [87, 79], [87, 16], [91, 70], [91, 53], [92, 56], [92, 13], [94, 17], [95, 79], [97, 75], [100, 93], [100, 21]]) == 19\nassert solution.maxEnvelopes([[2, 28], [3, 41], [4, 92], [4, 38], [4, 37], [4, 36], [5, 86], [5, 43], [7, 86], [10, 99], [12, 21], [18, 45], [20, 75], [20, 71], [22, 51], [24, 76], [24, 6], [25, 79], [26, 78], [27, 73], [28, 85], [29, 35], [30, 32], [35, 40], [36, 26], [37, 70], [40, 67], [40, 30], [41, 69], [41, 46], [42, 87], [45, 67], [45, 52], [47, 96], [47, 80], [47, 21], [48, 46], [48, 29], [49, 16], [49, 13], [53, 91], [53, 80], [53, 58], [53, 52], [56, 71], [58, 78], [58, 48], [58, 5], [61, 73], [62, 19], [63, 60], [63, 22], [63, 7], [64, 57], [65, 87], [66, 39], [66, 17], [67, 97], [69, 78], [71, 8], [72, 79], [72, 36], [72, 19], [73, 88], [77, 96], [78, 19], [78, 3], [84, 29], [86, 52], [87, 69], [89, 24], [90, 86], [92, 33], [94, 44], [96, 96], [96, 55], [96, 38], [100, 46]]) == 13\nassert solution.maxEnvelopes([[4, 9], [5, 14], [9, 37], [9, 22], [10, 35], [10, 33], [11, 26], [14, 58], [14, 22], [16, 61], [16, 26], [17, 60], [18, 20], [19, 60], [19, 18], [20, 26], [21, 81], [24, 94], [25, 12], [26, 100], [26, 98], [26, 85], [26, 60], [28, 91], [28, 44], [28, 33], [28, 11], [30, 82], [30, 27], [31, 66], [32, 50], [33, 85], [34, 62], [36, 100], [37, 86], [38, 55], [38, 20], [39, 99], [42, 84], [42, 39], [42, 35], [46, 6], [48, 21], [51, 65], [51, 6], [53, 53], [53, 1], [54, 74], [54, 9], [54, 6], [55, 80], [56, 62], [58, 64], [59, 66], [60, 20], [62, 77], [62, 30], [62, 2], [64, 55], [66, 84], [68, 77], [68, 70], [70, 93], [70, 31], [72, 23], [73, 35], [74, 25], [76, 68], [77, 48], [78, 36], [79, 92], [79, 56], [80, 47], [82, 25], [82, 14], [82, 10], [85, 36], [85, 28], [85, 19], [86, 26], [87, 63], [87, 54], [88, 57], [89, 49], [90, 59], [90, 23], [91, 76], [92, 86], [92, 26], [92, 4], [93, 84], [94, 12], [95, 74], [96, 99], [96, 30], [97, 19], [97, 12], [98, 24], [99, 23], [100, 16]]) == 16\nassert solution.maxEnvelopes([[9, 15], [21, 28], [22, 94], [24, 96], [30, 70], [38, 71], [43, 60], [45, 2], [48, 72], [55, 48], [55, 8], [56, 44], [57, 42], [59, 1], [62, 10], [63, 26], [67, 22], [68, 75], [69, 58], [72, 92], [73, 47], [73, 17], [76, 35], [78, 97], [78, 39], [79, 51], [83, 78], [87, 81], [87, 24], [88, 52], [88, 37], [91, 59], [91, 31]]) == 9\nassert solution.maxEnvelopes([[8, 61], [20, 60], [47, 30], [68, 3], [69, 97], [70, 43], [72, 38], [78, 1], [86, 66], [87, 56], [87, 46], [100, 4]]) == 3\nassert solution.maxEnvelopes([[1, 81], [2, 74], [4, 80], [6, 83], [6, 42], [7, 90], [8, 6], [10, 34], [15, 45], [15, 30], [17, 75], [18, 52], [26, 41], [26, 2], [29, 86], [30, 37], [31, 64], [33, 47], [34, 57], [36, 2], [39, 87], [39, 69], [39, 42], [44, 100], [47, 58], [50, 18], [54, 9], [55, 20], [58, 39], [58, 38], [61, 16], [62, 83], [63, 97], [63, 16], [66, 53], [71, 56], [73, 71], [74, 21], [75, 91], [75, 53], [77, 100], [77, 32], [77, 29], [81, 37], [82, 24], [84, 22], [86, 69], [91, 37], [93, 55], [93, 10], [95, 94], [96, 16], [97, 27], [98, 30], [98, 2]]) == 9\nassert solution.maxEnvelopes([[3, 81], [4, 90], [11, 16], [27, 26], [33, 11], [36, 51], [47, 48], [48, 14], [65, 1], [71, 8], [73, 87]]) == 4\nassert solution.maxEnvelopes([[4, 17], [5, 89], [5, 52], [8, 40], [10, 58], [11, 54], [15, 65], [20, 39], [21, 65], [28, 45], [32, 88], [34, 17], [37, 96], [37, 53], [38, 29], [40, 50], [42, 61], [46, 11], [47, 48], [47, 3], [48, 60], [48, 42], [51, 15], [54, 31], [56, 65], [58, 38], [60, 89], [60, 18], [60, 7], [63, 16], [63, 11], [69, 21], [74, 99], [74, 27], [77, 81], [78, 90], [80, 26], [81, 53], [81, 45], [88, 98], [88, 93], [91, 81], [92, 12], [92, 8], [93, 52], [96, 90], [100, 47]]) == 9\nassert solution.maxEnvelopes([[7, 76], [9, 100], [13, 37], [18, 50], [21, 28], [42, 87], [52, 40], [71, 65], [86, 10], [91, 65], [98, 27], [99, 90], [100, 39]]) == 4\nassert solution.maxEnvelopes([[1, 6], [11, 51], [11, 17], [13, 82], [13, 71], [20, 34], [23, 90], [28, 69], [45, 20], [46, 8], [48, 22], [54, 1], [55, 96], [55, 93], [57, 65], [60, 5], [63, 6], [81, 62], [90, 87], [92, 19]]) == 6\nassert solution.maxEnvelopes([[7, 5], [14, 9], [34, 41], [38, 83]]) == 4\nassert solution.maxEnvelopes([[1, 69], [1, 19], [2, 44], [2, 43], [2, 29], [4, 87], [4, 30], [8, 1], [9, 54], [10, 12], [11, 55], [11, 29], [13, 76], [14, 51], [17, 30], [18, 70], [20, 35], [21, 72], [24, 99], [24, 77], [24, 21], [25, 34], [26, 23], [26, 16], [27, 63], [27, 7], [27, 3], [28, 22], [31, 75], [31, 8], [34, 81], [35, 82], [35, 77], [35, 60], [36, 86], [38, 39], [38, 28], [41, 88], [43, 63], [45, 78], [46, 35], [48, 64], [50, 43], [51, 63], [57, 84], [58, 66], [58, 21], [59, 37], [60, 17], [61, 88], [61, 74], [62, 38], [65, 14], [69, 94], [71, 11], [77, 59], [77, 34], [79, 9], [80, 44], [81, 38], [82, 28], [84, 95], [86, 93], [86, 42], [90, 72], [91, 76], [91, 17], [92, 49], [93, 11], [94, 97], [99, 63], [99, 51]]) == 15\nassert solution.maxEnvelopes([[2, 30], [4, 99], [4, 73], [4, 67], [5, 74], [5, 65], [6, 45], [9, 43], [10, 22], [12, 35], [12, 21], [16, 11], [17, 71], [19, 52], [20, 92], [20, 44], [21, 91], [21, 82], [22, 71], [34, 88], [37, 28], [38, 7], [42, 24], [44, 65], [47, 96], [50, 30], [50, 26], [51, 67], [54, 99], [54, 54], [56, 65], [58, 27], [59, 39], [62, 70], [64, 42], [66, 4], [68, 42], [69, 52], [69, 42], [70, 60], [71, 25], [73, 73], [73, 60], [74, 79], [77, 18], [78, 5], [80, 98], [84, 100], [90, 84], [90, 20], [91, 55], [93, 16], [96, 59], [98, 90]]) == 12\nassert solution.maxEnvelopes([[1, 1], [3, 43], [4, 91], [4, 80], [4, 27], [4, 10], [5, 19], [5, 10], [7, 75], [10, 36], [11, 98], [15, 43], [16, 4], [17, 93], [17, 43], [17, 6], [19, 14], [22, 93], [22, 48], [23, 9], [25, 93], [26, 85], [26, 33], [28, 65], [28, 60], [29, 83], [29, 23], [30, 46], [32, 86], [38, 74], [38, 72], [38, 23], [38, 16], [42, 45], [43, 64], [44, 98], [44, 96], [45, 24], [46, 55], [47, 96], [47, 81], [49, 96], [50, 55], [51, 94], [52, 90], [52, 7], [55, 73], [58, 57], [59, 69], [59, 33], [62, 29], [62, 12], [66, 32], [67, 28], [67, 8], [68, 43], [70, 24], [71, 32], [71, 7], [72, 88], [72, 51], [80, 40], [81, 2], [82, 17], [84, 14], [86, 67], [86, 55], [88, 76], [90, 64], [91, 47], [91, 35], [92, 28], [93, 49], [96, 83], [96, 65], [100, 63]]) == 13\nassert solution.maxEnvelopes([[1, 10], [2, 3], [3, 86], [4, 51], [11, 67], [12, 66], [12, 27], [14, 45], [14, 30], [18, 78], [18, 69], [18, 50], [19, 70], [19, 26], [20, 58], [20, 49], [21, 84], [21, 76], [21, 47], [25, 84], [29, 52], [30, 2], [31, 23], [33, 41], [33, 3], [34, 16], [35, 48], [38, 41], [40, 88], [40, 41], [42, 74], [42, 25], [48, 82], [50, 68], [50, 59], [52, 100], [52, 28], [61, 7], [64, 1], [65, 19], [67, 68], [69, 100], [71, 51], [74, 44], [76, 7], [77, 66], [77, 51], [78, 40], [78, 35], [79, 99], [81, 62], [81, 36], [83, 66], [84, 44], [85, 35], [86, 99], [87, 11], [88, 16], [95, 41], [97, 91], [99, 6], [100, 55]]) == 10\nassert solution.maxEnvelopes([[1, 38], [2, 30], [3, 48], [4, 77], [6, 47], [6, 19], [7, 84], [7, 32], [7, 10], [8, 18], [9, 57], [10, 93], [10, 28], [11, 26], [16, 29], [17, 10], [23, 69], [23, 55], [24, 12], [26, 6], [27, 93], [28, 72], [28, 65], [28, 30], [30, 95], [30, 78], [30, 72], [30, 64], [30, 12], [31, 49], [34, 71], [35, 83], [38, 91], [38, 87], [42, 76], [43, 33], [47, 30], [48, 15], [50, 70], [51, 72], [52, 26], [52, 9], [53, 9], [54, 13], [55, 56], [55, 43], [55, 9], [57, 66], [57, 42], [59, 52], [59, 20], [59, 11], [61, 32], [64, 73], [64, 72], [64, 45], [64, 13], [65, 73], [66, 80], [66, 78], [66, 74], [66, 25], [67, 1], [69, 83], [69, 14], [70, 100], [70, 39], [70, 27], [72, 79], [73, 73], [75, 24], [76, 5], [77, 87], [78, 27], [80, 86], [81, 67], [81, 61], [83, 67], [87, 52], [88, 80], [88, 51], [89, 57], [90, 97], [90, 90], [97, 63], [97, 42], [100, 99], [100, 87], [100, 50], [100, 29]]) == 15\nassert solution.maxEnvelopes([[15, 61], [15, 37], [15, 18], [16, 12], [18, 6], [35, 90], [35, 57], [40, 88], [40, 35], [48, 72], [52, 13], [65, 90], [82, 78], [84, 43], [90, 75]]) == 4\nassert solution.maxEnvelopes([[1, 14], [2, 100], [3, 21], [3, 12], [4, 17], [6, 65], [6, 50], [7, 7], [9, 22], [10, 7], [12, 34], [12, 25], [13, 5], [19, 37], [20, 54], [21, 84], [24, 49], [24, 48], [25, 76], [25, 38], [25, 23], [26, 7], [29, 60], [30, 74], [30, 3], [31, 81], [33, 90], [33, 89], [33, 65], [33, 57], [33, 37], [33, 28], [33, 26], [33, 11], [34, 1], [35, 36], [35, 13], [37, 87], [37, 4], [39, 99], [39, 2], [40, 27], [42, 82], [43, 16], [45, 66], [46, 64], [49, 71], [52, 11], [53, 69], [54, 64], [57, 79], [57, 43], [58, 64], [58, 22], [59, 47], [62, 90], [62, 76], [63, 71], [66, 26], [67, 29], [69, 92], [73, 39], [73, 20], [74, 76], [75, 40], [75, 31], [76, 50], [77, 5], [78, 90], [78, 72], [79, 87], [79, 64], [80, 52], [80, 18], [80, 17], [82, 39], [83, 100], [83, 87], [83, 53], [84, 37], [85, 17], [87, 98], [87, 84], [89, 46], [89, 13], [93, 66], [94, 56], [95, 33], [95, 13], [96, 75], [98, 79], [99, 7], [100, 98]]) == 17\nassert solution.maxEnvelopes([[26, 32], [52, 22], [66, 56], [73, 25]]) == 2\nassert solution.maxEnvelopes([[2, 12], [5, 97], [14, 82], [15, 96], [16, 46], [16, 4], [19, 76], [22, 45], [22, 37], [32, 64], [33, 74], [34, 15], [35, 87], [37, 82], [38, 45], [39, 47], [41, 49], [44, 64], [44, 62], [45, 5], [46, 62], [50, 51], [57, 53], [59, 45], [69, 22], [73, 16], [74, 93], [76, 27], [86, 43], [90, 19], [94, 12], [94, 6], [97, 81]]) == 8\nassert solution.maxEnvelopes([[10, 38], [37, 37], [40, 93], [44, 71], [50, 89], [82, 88], [88, 89], [94, 86]]) == 4\nassert solution.maxEnvelopes([[1, 43], [2, 52], [7, 46], [7, 10], [8, 100], [9, 65], [10, 20], [11, 68], [11, 1], [12, 92], [13, 33], [15, 50], [16, 12], [16, 10], [17, 63], [17, 59], [17, 46], [17, 4], [18, 73], [20, 66], [21, 48], [21, 25], [24, 92], [24, 41], [25, 63], [26, 5], [31, 13], [32, 29], [38, 100], [41, 61], [41, 38], [42, 36], [42, 14], [43, 14], [48, 23], [49, 11], [51, 10], [52, 23], [54, 90], [54, 85], [54, 32], [55, 98], [57, 56], [57, 48], [57, 15], [59, 67], [59, 63], [60, 62], [60, 36], [60, 1], [62, 19], [63, 25], [64, 74], [67, 26], [74, 92], [74, 86], [74, 47], [74, 44], [76, 61], [78, 97], [78, 92], [78, 26], [80, 54], [81, 8], [82, 10], [83, 72], [83, 56], [84, 9], [85, 24], [85, 16], [85, 3], [86, 54], [91, 62], [92, 72], [92, 27], [93, 19], [93, 10], [94, 98], [94, 81], [94, 33], [96, 68], [96, 31], [96, 10], [98, 35], [99, 66], [100, 59]]) == 15\nassert solution.maxEnvelopes([[4, 65], [7, 92], [7, 38], [8, 80], [8, 31], [8, 17], [10, 78], [10, 36], [11, 49], [12, 39], [14, 84], [15, 86], [16, 79], [17, 68], [20, 26], [21, 56], [23, 43], [31, 67], [32, 69], [33, 62], [39, 6], [42, 44], [42, 28], [44, 8], [49, 29], [50, 27], [50, 1], [51, 32], [53, 39], [54, 40], [54, 29], [54, 29], [55, 32], [55, 27], [56, 68], [56, 14], [57, 6], [58, 42], [59, 92], [62, 95], [68, 43], [69, 64], [70, 3], [73, 2], [74, 72], [74, 34], [76, 24], [77, 87], [77, 18], [80, 45], [80, 39], [82, 99], [83, 80], [83, 19], [86, 40], [87, 2], [92, 69], [94, 84], [94, 31], [95, 48], [95, 29], [97, 73]]) == 13\nassert solution.maxEnvelopes([[1, 12], [2, 21], [11, 33], [12, 67], [16, 57], [18, 22], [18, 20], [18, 8], [20, 57], [21, 73], [21, 67], [22, 85], [23, 52], [26, 68], [27, 87], [27, 52], [27, 39], [30, 58], [32, 81], [33, 69], [40, 37], [41, 85], [44, 59], [44, 5], [45, 12], [46, 96], [46, 7], [50, 24], [55, 9], [56, 14], [59, 22], [60, 93], [60, 15], [63, 6], [66, 90], [67, 93], [67, 89], [72, 63], [72, 19], [73, 97], [73, 39], [75, 72], [83, 5], [85, 49], [87, 67], [89, 56], [89, 32], [93, 96], [93, 10], [93, 7], [94, 42], [95, 58], [96, 8], [96, 1], [99, 70], [99, 50]]) == 11\nassert solution.maxEnvelopes([[23, 45], [30, 99], [31, 21], [52, 36], [59, 23], [66, 98], [72, 8], [79, 58]]) == 3\nassert solution.maxEnvelopes([[37, 26]]) == 1\nassert solution.maxEnvelopes([[1, 92], [13, 21], [15, 41], [18, 7], [20, 18], [21, 73], [25, 95], [26, 54], [27, 30], [29, 1], [30, 20], [31, 89], [31, 73], [37, 84], [38, 80], [42, 54], [42, 24], [52, 8], [53, 21], [56, 80], [57, 7], [58, 73], [59, 16], [68, 44], [74, 54], [76, 93], [79, 89], [82, 29], [84, 93], [86, 2], [89, 100], [90, 81]]) == 9\nassert solution.maxEnvelopes([[3, 74], [4, 6], [5, 84], [5, 78], [14, 59], [14, 14], [15, 36], [16, 100], [18, 56], [21, 38], [22, 37], [23, 90], [23, 57], [24, 51], [31, 88], [34, 10], [35, 99], [35, 72], [35, 55], [35, 12], [37, 4], [39, 76], [41, 60], [43, 42], [45, 53], [46, 8], [47, 11], [52, 21], [52, 18], [54, 66], [54, 49], [59, 7], [60, 3], [61, 84], [61, 47], [61, 26], [62, 47], [68, 79], [70, 43], [78, 90], [80, 80], [80, 39], [82, 77], [82, 3], [85, 36], [85, 12], [88, 30], [89, 82], [90, 51], [90, 31], [92, 38], [94, 81], [95, 12]]) == 11\nassert solution.maxEnvelopes([[1, 20], [3, 60], [14, 54], [20, 72], [20, 50], [23, 42], [23, 12], [25, 26], [27, 18], [27, 4], [28, 39], [29, 40], [31, 45], [31, 8], [33, 95], [33, 38], [36, 88], [39, 39], [40, 76], [43, 31], [43, 4], [44, 93], [49, 46], [53, 13], [54, 3], [58, 83], [59, 45], [65, 90], [68, 50], [72, 74], [72, 57], [73, 32], [76, 1], [77, 18], [78, 60], [79, 78], [81, 23], [82, 71], [88, 97], [90, 65], [94, 51], [97, 79], [98, 33], [99, 99]]) == 12\nassert solution.maxEnvelopes([[3, 81], [5, 23], [10, 60], [14, 75], [16, 51], [16, 44], [16, 8], [21, 71], [24, 28], [25, 56], [31, 93], [31, 16], [40, 37], [42, 29], [44, 14], [44, 8], [45, 79], [46, 40], [47, 40], [48, 96], [52, 69], [53, 100], [54, 39], [55, 96], [55, 14], [56, 15], [57, 82], [57, 53], [59, 1], [60, 89], [63, 47], [63, 38], [64, 43], [64, 25], [65, 55], [70, 95], [73, 71], [74, 23], [74, 15], [75, 100], [76, 69], [76, 11], [77, 97], [78, 89], [78, 19], [82, 80], [82, 55], [85, 4], [90, 66], [90, 29], [92, 27], [93, 86], [94, 38], [95, 15], [98, 87], [98, 83], [99, 43]]) == 10\nassert solution.maxEnvelopes([[1, 82], [1, 56], [2, 48], [2, 34], [3, 99], [3, 26], [5, 85], [5, 55], [5, 37], [7, 43], [13, 100], [13, 79], [13, 78], [13, 21], [14, 89], [14, 17], [16, 47], [16, 4], [17, 85], [17, 8], [20, 32], [22, 88], [23, 65], [25, 16], [27, 7], [29, 51], [30, 36], [31, 89], [33, 34], [34, 84], [34, 24], [35, 59], [38, 100], [38, 65], [41, 33], [47, 83], [55, 48], [56, 96], [57, 85], [57, 67], [58, 34], [59, 65], [59, 36], [61, 60], [63, 50], [63, 28], [63, 1], [64, 79], [65, 22], [66, 17], [71, 74], [72, 100], [75, 82], [75, 64], [84, 28], [86, 50], [86, 38], [87, 90], [87, 35], [88, 14], [89, 7], [90, 93], [91, 45], [92, 41], [95, 65], [96, 87], [96, 17], [97, 89], [98, 56], [99, 96]]) == 13\nassert solution.maxEnvelopes([[3, 69], [6, 80], [7, 97], [12, 45], [15, 87], [17, 97], [17, 10], [19, 76], [20, 56], [22, 73], [39, 51], [41, 90], [47, 65], [53, 90], [53, 31], [53, 8], [56, 22], [62, 77], [63, 23], [65, 91], [65, 31], [67, 62], [82, 54], [90, 36], [91, 97], [91, 6], [94, 2], [99, 49], [100, 55]]) == 7\nassert solution.maxEnvelopes([[1, 21], [1, 16], [2, 60], [3, 71], [6, 99], [6, 76], [9, 39], [10, 87], [10, 81], [11, 57], [11, 43], [12, 100], [14, 14], [14, 13], [16, 20], [17, 72], [17, 6], [21, 37], [22, 84], [22, 68], [23, 64], [26, 12], [27, 84], [28, 15], [29, 89], [29, 76], [29, 67], [30, 37], [30, 36], [32, 94], [32, 40], [36, 51], [37, 76], [37, 48], [39, 100], [39, 86], [39, 74], [41, 30], [44, 3], [45, 66], [46, 21], [47, 42], [47, 5], [48, 37], [49, 25], [49, 7], [51, 88], [51, 39], [52, 59], [52, 54], [55, 19], [55, 12], [57, 50], [57, 34], [59, 68], [59, 62], [61, 100], [61, 19], [63, 52], [63, 22], [65, 21], [66, 83], [67, 58], [68, 58], [68, 42], [70, 94], [70, 21], [71, 84], [73, 91], [73, 69], [73, 19], [74, 41], [75, 75], [75, 64], [75, 53], [77, 89], [78, 100], [79, 50], [83, 54], [84, 84], [84, 39], [84, 3], [86, 95], [86, 90], [86, 40], [87, 51], [88, 99], [88, 96], [88, 24], [88, 23], [89, 84], [92, 21], [93, 98], [93, 76], [93, 67], [93, 13], [95, 53], [99, 14], [100, 96], [100, 23]]) == 15\nassert solution.maxEnvelopes([[2, 21], [3, 29], [5, 3], [7, 59], [8, 46], [9, 48], [10, 92], [10, 61], [12, 44], [15, 84], [15, 27], [16, 57], [17, 86], [17, 81], [17, 45], [17, 2], [18, 80], [20, 43], [23, 72], [25, 90], [26, 95], [29, 94], [29, 83], [29, 5], [30, 63], [33, 9], [34, 90], [34, 63], [34, 26], [35, 56], [36, 79], [37, 86], [39, 56], [40, 99], [40, 24], [41, 24], [43, 90], [43, 51], [43, 30], [44, 46], [46, 53], [46, 22], [49, 43], [50, 28], [53, 99], [57, 98], [57, 41], [57, 33], [58, 37], [60, 69], [60, 56], [63, 76], [63, 42], [64, 14], [67, 50], [67, 33], [67, 9], [69, 66], [70, 9], [74, 75], [75, 76], [75, 75], [77, 51], [78, 15], [83, 96], [84, 86], [84, 16], [85, 39], [88, 96], [89, 59], [90, 17], [92, 96], [94, 97], [94, 29], [96, 92], [97, 88], [98, 33], [99, 35]]) == 15\nassert solution.maxEnvelopes([[49, 43], [59, 47], [69, 95]]) == 3\nassert solution.maxEnvelopes([[1, 84], [1, 21], [3, 77], [3, 56], [4, 19], [5, 76], [5, 17], [6, 45], [6, 26], [6, 26], [8, 58], [9, 63], [9, 1], [10, 41], [10, 38], [10, 26], [19, 5], [20, 40], [21, 94], [21, 14], [22, 90], [22, 87], [22, 7], [22, 4], [22, 2], [23, 46], [24, 89], [26, 38], [27, 59], [27, 40], [28, 38], [30, 12], [31, 5], [33, 26], [34, 55], [43, 73], [43, 54], [44, 88], [44, 34], [45, 48], [45, 47], [45, 34], [45, 16], [48, 50], [49, 61], [49, 38], [49, 28], [51, 62], [53, 87], [54, 100], [55, 1], [56, 65], [56, 59], [56, 55], [58, 33], [59, 99], [61, 77], [61, 43], [62, 69], [63, 96], [63, 70], [64, 49], [66, 38], [66, 9], [67, 98], [67, 6], [68, 48], [69, 4], [70, 71], [71, 98], [71, 21], [73, 66], [74, 94], [74, 19], [78, 70], [79, 77], [81, 99], [81, 21], [82, 85], [82, 85], [84, 83], [84, 32], [84, 5], [88, 98], [88, 34], [88, 15], [91, 59], [91, 6], [93, 59], [95, 95], [95, 69], [95, 29], [95, 3], [96, 81]]) == 17\nassert solution.maxEnvelopes([[2, 22], [3, 92], [3, 38], [9, 28], [11, 49], [12, 23], [15, 52], [21, 83], [22, 99], [22, 3], [26, 74], [27, 67], [27, 38], [31, 99], [33, 82], [35, 71], [39, 90], [40, 76], [42, 95], [42, 73], [42, 33], [42, 6], [47, 54], [48, 71], [56, 44], [57, 69], [57, 50], [59, 100], [68, 61], [72, 58], [79, 54], [80, 45], [82, 50], [85, 63], [85, 59], [87, 39], [88, 74], [88, 43], [88, 13], [92, 89], [93, 26], [95, 91], [95, 15], [96, 78], [98, 78]]) == 10\nassert solution.maxEnvelopes([[2, 35], [2, 29], [3, 14], [4, 65], [4, 60], [5, 40], [5, 38], [6, 78], [7, 78], [12, 69], [14, 86], [14, 83], [17, 71], [17, 70], [17, 18], [18, 31], [19, 98], [19, 25], [19, 5], [20, 2], [21, 29], [22, 52], [24, 97], [25, 30], [28, 100], [30, 63], [30, 6], [31, 53], [32, 87], [34, 33], [35, 100], [35, 14], [36, 43], [37, 61], [39, 80], [39, 53], [40, 95], [42, 10], [47, 18], [48, 54], [49, 57], [50, 64], [50, 30], [50, 16], [51, 59], [52, 49], [52, 23], [55, 65], [55, 52], [55, 27], [57, 95], [59, 65], [59, 23], [60, 50], [61, 33], [61, 8], [62, 73], [66, 84], [67, 15], [68, 80], [68, 78], [69, 60], [70, 91], [72, 45], [75, 38], [76, 95], [77, 70], [79, 28], [80, 100], [83, 78], [83, 48], [83, 12], [84, 65], [84, 28], [86, 67], [87, 66], [88, 51], [89, 45], [92, 33], [93, 81], [93, 45], [93, 32], [94, 60], [94, 54], [94, 6], [95, 94], [95, 40], [95, 3], [96, 94], [96, 39], [97, 92], [97, 43], [97, 25], [98, 100]]) == 17\nassert solution.maxEnvelopes([[4, 73], [4, 26], [8, 90], [9, 8], [10, 44], [12, 99], [12, 83], [13, 47], [13, 13], [14, 49], [15, 97], [16, 84], [17, 47], [18, 95], [18, 93], [19, 62], [21, 83], [23, 30], [23, 23], [24, 22], [26, 87], [27, 91], [28, 91], [30, 91], [32, 40], [35, 72], [36, 38], [36, 30], [37, 75], [38, 71], [38, 11], [39, 53], [41, 76], [42, 21], [43, 77], [43, 57], [44, 83], [45, 93], [46, 70], [46, 43], [47, 35], [48, 27], [48, 20], [49, 53], [50, 90], [50, 4], [51, 4], [53, 92], [56, 12], [59, 53], [63, 81], [63, 14], [68, 17], [70, 77], [73, 20], [75, 24], [77, 10], [78, 92], [79, 42], [79, 11], [81, 65], [81, 28], [81, 7], [82, 37], [83, 97], [83, 44], [84, 58], [87, 71], [87, 65], [88, 48], [89, 16], [91, 90], [93, 18], [94, 57], [95, 88], [95, 84], [95, 71], [95, 2], [96, 24], [97, 80], [99, 46]]) == 14\nassert solution.maxEnvelopes([[1, 51], [2, 32], [3, 57], [4, 46], [5, 49], [8, 19], [10, 64], [13, 73], [13, 63], [13, 10], [14, 13], [15, 78], [18, 96], [21, 83], [22, 81], [22, 8], [24, 67], [25, 60], [27, 82], [30, 50], [30, 9], [31, 2], [32, 13], [35, 77], [37, 98], [37, 77], [38, 19], [43, 49], [44, 91], [46, 90], [46, 28], [47, 70], [51, 8], [53, 45], [53, 39], [56, 33], [57, 86], [57, 49], [58, 78], [59, 62], [60, 40], [63, 92], [64, 14], [65, 68], [72, 8], [76, 73], [76, 61], [77, 89], [77, 5], [78, 98], [79, 14], [80, 23], [83, 62], [83, 58], [84, 89], [84, 24], [87, 33], [88, 32], [91, 19], [98, 17], [99, 14]]) == 12",
  "inefficient_solution": "class Solution:\n    def maxEnvelopes(self, envelopes: List[List[int]]) -> int:\n        envelopes = [tuple(e) for e in envelopes]  # 1. Convert to tuples\n        envelopes_copy = [e[:] for e in envelopes]  # 2. Create deep copy\n        envelopes_with_indices = [(i, e) for i, e in enumerate(envelopes)]  # 3. Store with indices\n        sorted_envelopes = sorted(envelopes_with_indices, key=lambda x: (x[1][0], -x[1][1]))  # 4. Sort by width and height\n        d = [sorted_envelopes[0][1][1]]  # 5. Initialize with first envelope's height\n        for _, h in sorted_envelopes[1:]:  # 6. Iterate over envelopes\n            if h > d[-1]:\n                d.append(h)  # 7. If height is greater, append\n            else:\n                d_copy = d[:]  # 8. Create deep copy of d\n                for i, dh in enumerate(d_copy):\n                    if dh < h:\n                        del d_copy[i]\n                d_copy.append(h)  # 9. Remove smaller heights and append\n                d = d_copy\n        return len(d)",
  "is_python": true
}
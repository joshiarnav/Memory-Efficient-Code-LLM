{
  "problem_idx": 2250,
  "task_name": "Count Number of Rectangles Containing Each Point",
  "markdown_description": "\nYou are given a 2D integer array `rectangles` where `rectangles[i] = [li, hi]` indicates that `ith` rectangle has a length of `li` and a height of `hi`. You are also given a 2D integer array `points` where `points[j] = [xj, yj]` is a point with coordinates `(xj, yj)`.\n\n\nThe `ith` rectangle has its **bottom-left corner** point at the coordinates `(0, 0)` and its **top-right corner** point at `(li, hi)`.\n\n\nReturn *an integer array* `count` *of length* `points.length` *where* `count[j]` *is the number of rectangles that **contain** the* `jth` *point.*\n\n\nThe `ith` rectangle **contains** the `jth` point if `0 <= xj <= li` and `0 <= yj <= hi`. Note that points that lie on the **edges** of a rectangle are also considered to be contained by that rectangle.\n\n\n\u00a0\n\n\n**Example 1:**\n\n\n![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2200-2299/2250.Count%20Number%20of%20Rectangles%20Containing%20Each%20Point/images/example1.png)\n\n```\n\n**Input:** rectangles = [[1,2],[2,3],[2,5]], points = [[2,1],[1,4]]\n**Output:** [2,1]\n**Explanation:** \nThe first rectangle contains no points.\nThe second rectangle contains only the point (2, 1).\nThe third rectangle contains the points (2, 1) and (1, 4).\nThe number of rectangles that contain the point (2, 1) is 2.\nThe number of rectangles that contain the point (1, 4) is 1.\nTherefore, we return [2, 1].\n\n```\n\n**Example 2:**\n\n\n![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2200-2299/2250.Count%20Number%20of%20Rectangles%20Containing%20Each%20Point/images/example2.png)\n\n```\n\n**Input:** rectangles = [[1,1],[2,2],[3,3]], points = [[1,3],[1,1]]\n**Output:** [1,3]\n**Explanation:**The first rectangle contains only the point (1, 1).\nThe second rectangle contains only the point (1, 1).\nThe third rectangle contains the points (1, 3) and (1, 1).\nThe number of rectangles that contain the point (1, 3) is 1.\nThe number of rectangles that contain the point (1, 1) is 3.\nTherefore, we return [1, 3].\n\n```\n\n\u00a0\n\n\n**Constraints:**\n\n\n* `1 <= rectangles.length, points.length <= 5 * 104`\n* `rectangles[i].length == points[j].length == 2`\n* `1 <= li, xj <= 109`\n* `1 <= hi, yj <= 100`\n* All the `rectangles` are **unique**.\n* All the `points` are **unique**.\n\n\n",
  "canonical_solution": "class Solution:\n    def countRectangles(\n        self, rectangles: List[List[int]], points: List[List[int]]\n    ) -> List[int]:\n        d = defaultdict(list)\n        for x, y in rectangles:\n            d[y].append(x)\n        for y in d.keys():\n            d[y].sort()\n        ans = []\n        for x, y in points:\n            cnt = 0\n            for h in range(y, 101):\n                xs = d[h]\n                cnt += len(xs) - bisect_left(xs, x)\n            ans.append(cnt)\n        return ans\n",
  "test_case_generator": "\nimport random\nfrom bisect import bisect_left\nfrom collections import defaultdict\nfrom typing import List\n\nclass Solution:\n    def countRectangles(\n        self, rectangles: List[List[int]], points: List[List[int]]\n    ) -> List[int]:\n        d = defaultdict(list)\n        for x, y in rectangles:\n            d[y].append(x)\n        for y in d.keys():\n            d[y].sort()\n        ans = []\n        for x, y in points:\n            cnt = 0\n            for h in range(y, 101):\n                xs = d[h]\n                cnt += len(xs) - bisect_left(xs, x)\n            ans.append(cnt)\n        return ans\n\n# Test case generator\ndef generate_test_case():\n    solution = Solution()\n    \n    # Generate random rectangles\n    num_rectangles = random.randint(1, 11)\n    rectangles = [[random.randint(1, 10**9), random.randint(1, 100)] for _ in range(num_rectangles)]\n    \n    # Generate random points\n    num_points = random.randint(1, 11)\n    points = [[random.randint(1, 10**9), random.randint(1, 100)] for _ in range(num_points)]\n\n    # Calculate the expected result using the provided Solution class\n    expected_result = solution.countRectangles(rectangles, points)\n\n    return rectangles, points, expected_result\n\ndef test_generated_test_cases(num_tests):\n    test_case_generator_results = []\n    for i in range(num_tests):\n        rectangles, points, expected_result = generate_test_case()\n        solution = Solution()\n        assert solution.countRectangles(rectangles, points) == expected_result\n        print(f\"assert solution.countRectangles({rectangles}, {points}) == {expected_result}\")\n        test_case_generator_results.append(f\"assert solution.countRectangles({rectangles}, {points}) == {expected_result}\")\n    return test_case_generator_results\n\nif __name__ == \"__main__\":\n    num_tests = 100  # You can change this to generate more test cases\n    test_case_generator_results = test_generated_test_cases(num_tests)\n",
  "test_case": "assert solution.countRectangles([[534939629, 97], [299600766, 19]], [[933719375, 83], [638372472, 11], [307032781, 19], [941793296, 29], [520457016, 42]]) == [0, 0, 1, 0, 1]\nassert solution.countRectangles([[236348316, 81], [689970705, 23], [166675043, 86], [197227688, 11], [344872955, 23], [937058126, 93], [829926948, 28], [593584167, 62], [398124637, 4], [377782884, 80]], [[261720480, 61], [944922113, 53], [564095739, 85], [340607023, 40], [649672592, 84], [132333945, 56], [313542368, 26], [943740471, 59], [138613309, 91]]) == [3, 0, 1, 3, 1, 5, 4, 0, 1]\nassert solution.countRectangles([[835673829, 53], [697054445, 44], [498011479, 57]], [[986387029, 10], [376623113, 88], [551550520, 50], [401360038, 87], [37234869, 37]]) == [0, 0, 1, 0, 3]\nassert solution.countRectangles([[820185046, 85], [4017428, 29], [776108381, 57], [301179497, 88], [582250914, 86], [775527649, 42], [965253406, 47], [359178478, 24], [182008927, 68]], [[241531957, 6], [736493208, 5]]) == [7, 4]\nassert solution.countRectangles([[646170197, 30], [368312556, 82], [227182696, 47], [996525431, 76], [240928839, 69], [549894391, 78]], [[486307030, 65], [914972341, 42], [458739206, 58], [899427386, 93], [202440215, 51], [50529945, 51], [177010812, 57], [250939320, 84], [515979852, 76], [664482869, 26], [537694324, 44]]) == [2, 1, 2, 0, 4, 4, 4, 0, 2, 1, 2]\nassert solution.countRectangles([[571352405, 24], [978276753, 70], [436798762, 63], [323123394, 74], [897217893, 92], [135987679, 6], [727911963, 81], [128401275, 23]], [[566505386, 13]]) == [4]\nassert solution.countRectangles([[907647675, 12], [472974759, 38], [754668877, 4], [622372562, 92], [706614937, 9], [419973368, 9], [521449715, 24], [943424270, 42]], [[534179553, 92], [948545984, 95], [250499732, 50], [758336058, 40], [803839943, 66], [665936479, 29], [593671275, 75], [101705989, 28], [596950849, 22], [826360100, 3]]) == [1, 0, 1, 1, 0, 1, 1, 3, 2, 2]\nassert solution.countRectangles([[615258401, 52], [430779485, 82], [164467918, 93], [422813858, 57]], [[703229731, 92], [465392356, 3], [797871562, 38], [247280286, 26], [589266664, 25], [918770648, 40], [602854441, 10], [909440180, 17]]) == [0, 1, 0, 3, 1, 0, 1, 0]\nassert solution.countRectangles([[531515976, 67], [346432082, 66], [113490252, 18], [353504120, 38], [937158843, 65], [545770356, 7]], [[450785502, 90], [782896192, 77], [441892301, 76], [673330134, 62], [700613514, 69], [920665793, 3], [629166514, 71], [80673051, 1], [119408758, 91], [378143484, 22], [545267112, 30]]) == [0, 0, 0, 1, 0, 1, 0, 6, 0, 2, 1]\nassert solution.countRectangles([[809421293, 49], [716560514, 49], [304288390, 56], [642942479, 56]], [[928448234, 91], [980502781, 22], [35856391, 19], [286476724, 86], [501892127, 39], [888968558, 51], [55715795, 33], [306681714, 7]]) == [0, 0, 4, 0, 3, 0, 4, 3]\nassert solution.countRectangles([[461569281, 70], [145070154, 25], [597154494, 90], [328054712, 5], [247923254, 71], [711617815, 95], [853697287, 47], [697388789, 68], [677942596, 29], [183901592, 78]], [[751699946, 1], [658050737, 93], [591843456, 27]]) == [1, 1, 5]\nassert solution.countRectangles([[717423943, 68]], [[849045411, 20], [466049199, 84], [927911588, 27], [144904012, 70], [886194366, 11], [633450777, 85], [356173266, 92], [338144052, 92], [939673832, 15], [161815152, 19], [627779262, 20]]) == [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1]\nassert solution.countRectangles([[612992251, 49], [805495802, 47], [156532378, 53], [943285040, 84]], [[709270088, 47], [307510573, 69], [607763416, 71]]) == [2, 1, 1]\nassert solution.countRectangles([[915302485, 26], [680314296, 88], [184230120, 33], [739092093, 90], [171563779, 18], [128735376, 78], [584810841, 63], [463706045, 4], [759281297, 66], [847478129, 79]], [[299071684, 31]]) == [5]\nassert solution.countRectangles([[345673185, 7], [535201902, 72], [735122955, 11], [615773625, 54], [929116647, 9], [606140857, 73], [632207677, 19], [669909718, 23], [27711498, 4], [698178216, 37], [381444856, 11]], [[783899441, 79], [830020436, 85], [979190819, 55], [179003440, 15]]) == [0, 0, 0, 6]\nassert solution.countRectangles([[169481661, 60], [31763342, 69], [342480628, 59], [988855420, 6], [890149968, 67], [907119259, 1], [759127753, 95], [879722430, 94], [515415118, 7]], [[934696690, 43]]) == [0]\nassert solution.countRectangles([[876773816, 10]], [[787510942, 18], [158990827, 57], [401067920, 58], [442759273, 40], [439825541, 30], [297662025, 7], [824263940, 3], [796918321, 68], [648816520, 58]]) == [0, 0, 0, 0, 0, 1, 1, 0, 0]\nassert solution.countRectangles([[151961550, 77], [745054522, 24], [403407154, 73], [823576428, 65], [89554475, 43]], [[850382496, 31], [929668899, 99], [607095583, 94], [665150114, 70], [86980356, 78], [491772071, 89], [882401179, 57], [566694662, 91], [827480622, 85]]) == [0, 0, 0, 0, 0, 0, 0, 0, 0]\nassert solution.countRectangles([[670733583, 59], [842975660, 69], [331921551, 49], [492785480, 10]], [[460439647, 26], [656327333, 45], [578571462, 63], [579795305, 81]]) == [2, 2, 1, 0]\nassert solution.countRectangles([[329519943, 23], [791121822, 11], [579811654, 63], [538103453, 82], [718339580, 49], [739646514, 59], [507180232, 85]], [[214092899, 42], [441374177, 96], [559272920, 42]]) == [5, 0, 3]\nassert solution.countRectangles([[518163498, 17], [787862809, 4], [742122216, 53], [874829099, 84], [161595182, 60], [93941997, 55]], [[725210429, 71], [910108775, 46], [104733789, 77], [73581660, 77], [889772360, 9], [105692721, 3], [738490243, 42], [301755745, 49], [77200464, 31], [362198457, 23]]) == [1, 0, 1, 1, 0, 5, 2, 2, 4, 2]\nassert solution.countRectangles([[992193144, 20], [225417893, 64], [823564055, 50], [414509390, 80], [218484438, 65], [689560518, 20], [143027927, 75], [166695471, 14], [969039687, 81], [434289351, 26]], [[411726078, 60], [388884917, 50], [16464817, 100], [488245121, 84], [127504169, 45], [920835237, 88], [503023431, 92]]) == [2, 3, 0, 0, 6, 0, 0]\nassert solution.countRectangles([[881657969, 78], [234459408, 96], [273273583, 13], [231654886, 89], [287933360, 2], [318031309, 65], [339041125, 99], [31503637, 1], [514259576, 6]], [[59749185, 29]]) == [5]\nassert solution.countRectangles([[337971680, 63], [108518876, 12], [814145324, 31], [801158505, 16], [962554491, 71], [593929588, 25], [198208723, 45], [728169461, 89], [566417155, 8], [636946492, 96]], [[22775128, 51], [411131080, 90], [390853793, 63], [890877263, 54], [541349275, 55]]) == [4, 1, 3, 1, 3]\nassert solution.countRectangles([[335433119, 1], [309917332, 82], [431975302, 66]], [[60474215, 99], [706307672, 69], [22174117, 64], [521010819, 58], [328956272, 18], [647919564, 98]]) == [0, 0, 2, 0, 1, 0]\nassert solution.countRectangles([[313583941, 85], [512180946, 52], [498709501, 68], [500726000, 37], [268182743, 85], [672469732, 86], [789845736, 63], [899317308, 76], [264799768, 85], [689050172, 58], [217943640, 17]], [[309019072, 14], [347631913, 49], [981753429, 93], [916992922, 37], [359991134, 81], [445124626, 100], [868610016, 2], [992530421, 34], [200909382, 31], [715577586, 14]]) == [8, 6, 0, 0, 1, 0, 1, 0, 10, 2]\nassert solution.countRectangles([[746360098, 97], [443578019, 71], [653449795, 60], [276711198, 27], [201420835, 21], [113816637, 72], [349138129, 16], [707486095, 51]], [[981280567, 38], [662631896, 46], [205285059, 71], [708606092, 87], [53322699, 54], [546978095, 57], [124003679, 3], [911837861, 65], [346858717, 64]]) == [0, 2, 2, 1, 4, 2, 7, 0, 2]\nassert solution.countRectangles([[811736339, 23]], [[340624752, 72], [228748500, 98], [345825467, 4], [540269656, 38], [649973692, 29], [869234555, 29], [663511100, 59], [390990629, 52], [237437935, 25], [547857987, 7], [712365160, 12]]) == [0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 1]\nassert solution.countRectangles([[619229893, 54], [515795272, 54], [833466659, 25], [708907602, 64], [946695408, 25], [548528097, 73], [14858893, 43], [763668848, 55], [989295746, 27], [750199895, 58]], [[610937429, 75], [385280395, 67], [685716951, 35], [585102292, 50], [707632987, 10], [692740257, 61], [932449928, 80], [847654169, 9], [13658660, 6], [343044623, 70]]) == [0, 1, 3, 4, 6, 1, 0, 2, 10, 1]\nassert solution.countRectangles([[126114566, 82], [718435440, 38], [88488252, 14], [129595225, 6], [870076493, 3], [620021332, 94]], [[258945768, 66], [109108086, 92], [370435944, 27], [288647063, 40], [745308235, 50], [259313275, 27], [334091876, 42], [245363596, 44], [723988266, 25], [120614911, 28]]) == [1, 1, 2, 1, 0, 2, 1, 1, 0, 3]\nassert solution.countRectangles([[504087725, 30], [608379168, 26], [974600158, 77], [487719094, 43], [133015425, 8], [10917012, 77], [936242118, 44]], [[252568341, 10], [368664317, 17], [265172761, 82], [116259292, 46], [254352390, 80]]) == [5, 5, 0, 1, 0]\nassert solution.countRectangles([[280759429, 8], [307777272, 80], [289602212, 42], [521705024, 40], [244365558, 9]], [[925131062, 15]]) == [0]\nassert solution.countRectangles([[867515021, 43], [409983515, 63], [75834215, 5], [115681175, 75], [927228701, 65], [982657854, 63]], [[98913915, 14], [971475728, 38], [900347856, 91], [235949807, 59], [2659111, 35]]) == [5, 1, 0, 3, 5]\nassert solution.countRectangles([[53518379, 70], [930435631, 12], [325149818, 16]], [[398473761, 24], [571945576, 66], [840995258, 91], [430674309, 80]]) == [0, 0, 0, 0]\nassert solution.countRectangles([[348655534, 13], [101357038, 12], [252558724, 6]], [[588846972, 63], [394532716, 3], [667178370, 3], [551244001, 10], [977170761, 68], [485629924, 25], [660716296, 94], [696514274, 70], [706045829, 87], [562749466, 47]]) == [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\nassert solution.countRectangles([[439935368, 100], [232209907, 65], [85914038, 92], [459761219, 67], [201763069, 70], [912675419, 55], [775982929, 25], [984929397, 56], [814772464, 94]], [[737999880, 81], [766969840, 39], [572046885, 63], [224782109, 93], [110048771, 73], [128550960, 16], [712675274, 68]]) == [1, 3, 1, 2, 2, 8, 1]\nassert solution.countRectangles([[676340829, 84], [823544068, 8], [949685329, 47], [162380088, 16], [287750379, 59], [475088512, 19], [105178541, 36], [233907780, 16], [832028754, 43], [629630630, 18]], [[430041628, 77], [378090829, 81], [509049781, 16], [581086379, 41], [840371529, 71]]) == [1, 1, 4, 3, 0]\nassert solution.countRectangles([[366734578, 11], [521693352, 63], [187377880, 30], [783304834, 74], [794629515, 79], [198981982, 9], [588867006, 20], [726660163, 42], [702309860, 55], [561317384, 57]], [[11052544, 22], [97128176, 43], [228381639, 65], [354627469, 21], [132572233, 14]]) == [7, 5, 2, 6, 8]\nassert solution.countRectangles([[309370785, 29], [948133973, 94], [303512239, 7]], [[535468112, 86], [503956801, 55], [686995185, 51], [31787714, 64], [976497351, 83]]) == [1, 1, 1, 1, 0]\nassert solution.countRectangles([[343712807, 84], [355801354, 92], [314375719, 57], [700056090, 55]], [[869084478, 89], [19387776, 9], [535650987, 57], [969306626, 41]]) == [0, 4, 0, 0]\nassert solution.countRectangles([[769863183, 88], [771796184, 87], [765995763, 20], [234012436, 28], [289806816, 96], [322096300, 99], [667617789, 25], [193256784, 71], [609043134, 10]], [[682545580, 60], [23771470, 76], [61213366, 82], [501637094, 39], [345953113, 90], [458359451, 90], [892377790, 31]]) == [2, 4, 4, 2, 0, 0, 0]\nassert solution.countRectangles([[616279723, 26], [920805152, 47], [638472041, 24], [171744027, 24], [455361439, 54], [939761698, 55], [99215245, 43], [701540719, 43], [830409472, 53]], [[926698242, 92], [704770231, 35], [734261342, 50], [269423371, 30], [666681341, 89], [569320332, 44]]) == [0, 3, 2, 5, 0, 3]\nassert solution.countRectangles([[682683365, 17], [102607320, 55], [744266274, 63], [440923040, 52], [650678403, 88], [834427733, 57], [826080847, 63], [29125594, 64], [427012478, 64], [948375613, 75]], [[328278927, 38], [935863041, 57], [394910828, 16], [694459701, 88], [110204915, 48], [674703776, 58], [919434471, 52], [85917157, 41], [563478268, 100], [73101707, 68], [410826681, 42]]) == [7, 1, 8, 0, 7, 3, 1, 8, 0, 2, 7]\nassert solution.countRectangles([[784951332, 61], [501504687, 34], [2591119, 4], [77176153, 19], [267489990, 32], [793108391, 56], [310214941, 34], [634584363, 53], [789763439, 2], [249472471, 33], [474516870, 29]], [[973126778, 60], [198857955, 45], [582438919, 52], [979548688, 26], [427915306, 89], [95377544, 86], [106985164, 27], [734850020, 31]]) == [0, 3, 3, 0, 0, 0, 8, 2]\nassert solution.countRectangles([[880313205, 69], [925415161, 6], [945285313, 18], [906983066, 64], [557537946, 26], [932958093, 11], [39556839, 75], [340293193, 56], [583829816, 96]], [[63353383, 20], [870167149, 41], [771925612, 10], [877031639, 93], [899283569, 4], [216390721, 62]]) == [5, 2, 4, 0, 4, 3]\nassert solution.countRectangles([[239852749, 31], [251346703, 28], [375379355, 2], [317043530, 100], [982782781, 85], [426233179, 94]], [[449575424, 67], [22371266, 95]]) == [1, 1]\nassert solution.countRectangles([[315612204, 23], [10369808, 41], [990336672, 55]], [[488868532, 50]]) == [1]\nassert solution.countRectangles([[858388207, 35], [49743707, 15], [186438691, 53], [659763681, 44], [469921552, 63]], [[978647330, 13], [352391161, 26], [266634722, 55], [624717625, 57]]) == [0, 3, 1, 0]\nassert solution.countRectangles([[40002461, 67], [127466742, 31], [296401150, 19]], [[367375438, 31], [629745472, 57], [825886199, 71], [411990717, 36], [856343477, 76], [44263868, 26], [927822032, 7], [755057923, 95], [322024650, 13], [582583377, 54], [770691907, 61]]) == [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0]\nassert solution.countRectangles([[461022517, 70], [408731444, 52], [216230990, 88], [241882760, 34]], [[600543342, 61], [912511702, 17], [429987644, 69], [914515908, 29], [311541156, 17]]) == [0, 0, 1, 0, 2]\nassert solution.countRectangles([[667354640, 57], [68966757, 9], [390333400, 69], [528909357, 97], [600294200, 87], [279844997, 91]], [[321417838, 63], [235029770, 71], [892508522, 44], [593380892, 85]]) == [3, 3, 0, 1]\nassert solution.countRectangles([[699719502, 6], [323335457, 9], [236727164, 64], [367035474, 97]], [[688125317, 15], [603839191, 9], [164364083, 11], [952744250, 63], [491765695, 18], [853344151, 22], [679628809, 33], [914279234, 21], [35852232, 53], [97547389, 75], [443496137, 17]]) == [0, 0, 2, 0, 0, 0, 0, 0, 2, 1, 0]\nassert solution.countRectangles([[143690623, 19], [577369887, 2]], [[554138998, 81]]) == [0]\nassert solution.countRectangles([[813483582, 94], [314241257, 43], [306675810, 18], [700655202, 100], [322416209, 98], [618794941, 43], [601476964, 59], [109235399, 82], [935446772, 37], [305413968, 24]], [[153383649, 69], [551300681, 41], [729627314, 89], [406484858, 54], [865948561, 47]]) == [3, 4, 1, 3, 0]\nassert solution.countRectangles([[344551487, 22], [769684130, 12], [897876415, 9], [972588211, 95], [374581876, 4], [12535613, 40], [842525820, 12], [686814277, 33]], [[279562968, 40], [151826612, 57], [60516870, 29], [55324018, 94], [255917492, 100]]) == [1, 1, 2, 1, 0]\nassert solution.countRectangles([[523812160, 88], [76544084, 79], [562469478, 9], [843524765, 30], [332999524, 30], [362018495, 71], [15315631, 6], [44764739, 29], [711588071, 49]], [[856619762, 22], [686218517, 18], [479420663, 35]]) == [0, 2, 2]\nassert solution.countRectangles([[679008119, 64], [599792058, 93], [585205618, 75], [445076273, 54], [589008719, 18], [181706984, 70], [834608562, 82]], [[934938096, 64], [305243001, 79], [484139035, 97], [253184069, 35]]) == [0, 2, 0, 5]\nassert solution.countRectangles([[252770813, 77]], [[134863243, 32]]) == [1]\nassert solution.countRectangles([[444463359, 36]], [[867161955, 51], [611474556, 4], [850417444, 1], [226961976, 90], [230196618, 28], [551438685, 96], [888168937, 60], [3462958, 11]]) == [0, 0, 0, 0, 1, 0, 0, 1]\nassert solution.countRectangles([[47305420, 64], [79364750, 49], [276246317, 78], [24683406, 4], [931544002, 24]], [[181464820, 15], [186800406, 17], [851067645, 12], [940569747, 82], [242966226, 42], [966640201, 50], [694749404, 80], [554333244, 61], [733040353, 61], [619740315, 100]]) == [2, 2, 1, 0, 1, 0, 0, 0, 0, 0]\nassert solution.countRectangles([[64245093, 29], [405442447, 64]], [[228454661, 35], [618765313, 37], [997073870, 84]]) == [1, 0, 0]\nassert solution.countRectangles([[588748785, 18], [941615873, 99], [537496931, 28], [711753525, 35], [907617062, 77]], [[393106514, 53], [790842466, 5], [770533851, 39], [871652916, 97], [871267635, 81], [924223796, 67]]) == [2, 2, 2, 1, 1, 1]\nassert solution.countRectangles([[569780854, 18], [563030860, 18], [30008308, 72], [987875592, 93], [648802224, 62], [806575923, 54], [909897879, 12], [786772243, 89]], [[389695236, 64], [476010402, 83], [771131809, 91], [928548385, 60], [959345097, 72], [363625722, 73], [479479887, 88], [808062038, 99], [152879374, 45], [373693690, 56]]) == [2, 2, 1, 1, 1, 2, 2, 0, 4, 3]\nassert solution.countRectangles([[821713699, 90], [497248308, 5], [430860461, 8], [113906924, 89], [364158557, 36], [753981519, 75]], [[207460698, 67]]) == [2]\nassert solution.countRectangles([[359497201, 93], [112999000, 58], [847053996, 72], [141871204, 50], [515251249, 94], [553746363, 18], [633346233, 9]], [[782453380, 14], [682379689, 57], [334242535, 47]]) == [1, 1, 3]\nassert solution.countRectangles([[23650153, 24], [394726215, 39]], [[214573051, 75], [468543798, 14], [432543421, 34], [207307585, 84], [536566635, 39], [875386615, 19], [758059380, 88]]) == [0, 0, 0, 0, 0, 0, 0]\nassert solution.countRectangles([[34061680, 58], [33361175, 11], [533970449, 20], [791396022, 54], [836982755, 77]], [[553137935, 51], [430078442, 93], [383040182, 50]]) == [2, 0, 2]\nassert solution.countRectangles([[42050694, 44], [392396802, 54], [749732281, 82], [278288700, 27]], [[1856080, 1]]) == [4]\nassert solution.countRectangles([[58103352, 29], [935945532, 95], [896829662, 58], [577870417, 71], [90729308, 22], [178940718, 57], [486174835, 63], [317011693, 96], [591619978, 47], [448480216, 14], [893016592, 81]], [[776462201, 49], [939069355, 30], [855337446, 28], [802373449, 88], [807186544, 52], [890220122, 3], [57251027, 30], [883682916, 97], [243028580, 17], [29210604, 98], [296612952, 36]]) == [3, 0, 3, 1, 3, 3, 8, 0, 7, 0, 7]\nassert solution.countRectangles([[448880501, 26], [967218018, 4]], [[400113421, 89], [131809561, 18], [339592907, 21]]) == [0, 1, 1]\nassert solution.countRectangles([[203223364, 67], [193091294, 100], [862963867, 9], [575632393, 29], [749315946, 91], [366211143, 47], [34931435, 86]], [[76034549, 67], [476916645, 37], [342767690, 61]]) == [3, 1, 1]\nassert solution.countRectangles([[220499463, 81], [819732461, 1], [899475155, 30], [830324011, 33], [662876639, 85]], [[430166351, 50], [296069973, 42], [13357107, 53], [593714671, 58], [77118510, 19], [718194479, 37], [664740689, 51], [714369755, 51], [792354811, 43], [127189669, 28]]) == [1, 1, 2, 1, 4, 0, 0, 0, 0, 4]\nassert solution.countRectangles([[383375301, 23], [783112845, 78], [759160609, 78], [133071249, 81], [176668335, 98]], [[222513344, 40], [6999811, 71], [460965774, 12], [946171318, 29], [72478413, 23], [728370770, 75], [240641086, 19], [963287486, 38]]) == [2, 4, 2, 0, 5, 2, 3, 0]\nassert solution.countRectangles([[172835500, 1], [858444494, 25]], [[910161205, 62], [691432396, 62], [106448691, 53]]) == [0, 0, 0]\nassert solution.countRectangles([[234358494, 58], [834560242, 15], [313891215, 58]], [[645729478, 75]]) == [0]\nassert solution.countRectangles([[414309791, 75], [128624530, 17], [818800196, 45], [898382022, 71], [589722246, 7], [447276859, 23]], [[652206181, 87], [468068717, 60], [18175393, 24], [146832408, 95], [358766436, 73], [723638347, 58], [696183040, 57], [749475240, 37], [767669128, 82], [935045424, 30], [931962158, 4]]) == [0, 1, 3, 0, 1, 1, 1, 2, 0, 0, 0]\nassert solution.countRectangles([[29008471, 82], [254414914, 78], [26398847, 68], [214439344, 70]], [[822216445, 12], [194122176, 35], [7867125, 87], [462015036, 77], [374003826, 92], [947125923, 83], [204641377, 52], [11306376, 90], [289857539, 70]]) == [0, 2, 0, 0, 0, 0, 2, 0, 0]\nassert solution.countRectangles([[611646173, 64], [377949108, 75], [258535990, 34], [983832642, 23], [164199901, 35], [646547511, 39], [45621362, 2], [201456778, 56], [431491159, 54], [316361728, 42], [746103641, 77]], [[550166205, 36], [571895482, 18], [251550323, 80], [755140159, 89], [18469866, 73]]) == [3, 4, 0, 0, 2]\nassert solution.countRectangles([[821317446, 80], [704322137, 41], [24175439, 59], [799762698, 41], [300493722, 99], [468472208, 17], [918112897, 43], [223425611, 59]], [[142241649, 4], [63752435, 56], [973248905, 58], [94301564, 25], [911286836, 39], [186767879, 3]]) == [7, 3, 0, 6, 1, 7]\nassert solution.countRectangles([[547149084, 8], [936163830, 19], [774378189, 91], [379846218, 97], [699254887, 5]], [[726898411, 64], [637107515, 5]]) == [1, 3]\nassert solution.countRectangles([[854678397, 38], [771227112, 8], [174863995, 67], [634319392, 14], [318691637, 41], [739307747, 42], [877929158, 68]], [[15207247, 58], [598639265, 53]]) == [2, 1]\nassert solution.countRectangles([[216614399, 44], [63775357, 63], [683345244, 59], [531042897, 70], [339771315, 30], [145668611, 35], [947807982, 37], [437537432, 30], [927609903, 26], [870341418, 25], [589274671, 43]], [[305641838, 30], [633911327, 39], [768272738, 93], [80808266, 27], [43389896, 90]]) == [6, 1, 0, 8, 0]\nassert solution.countRectangles([[940565838, 31], [241288463, 68], [455461123, 61], [429321075, 76]], [[158178923, 89], [270053994, 80], [182223631, 44], [242247894, 84], [975964273, 13], [709989406, 81]]) == [0, 0, 3, 0, 0, 0]\nassert solution.countRectangles([[304194616, 86], [525668798, 19], [753303509, 7], [618915544, 43], [77807053, 87], [778895369, 56], [289764024, 66], [753713681, 37], [786356949, 17]], [[499761962, 93], [26714640, 50], [581454313, 61]]) == [0, 4, 0]\nassert solution.countRectangles([[402591777, 99], [947489672, 42], [183962223, 62], [337308162, 36], [681193079, 93], [165805335, 8], [157473895, 63]], [[335849811, 77], [645217397, 40], [55226101, 33], [537753380, 33], [560048898, 93], [891971743, 96]]) == [2, 2, 6, 2, 1, 0]\nassert solution.countRectangles([[355358614, 93], [461821372, 49], [312416489, 89], [137102002, 36], [407450427, 30], [278637901, 25]], [[52906675, 65], [493043644, 47], [243732867, 2], [470138147, 60], [201464662, 38], [63126667, 60], [373226851, 92], [949477622, 75], [471577304, 77], [229298576, 58], [688681213, 13]]) == [2, 0, 5, 0, 3, 2, 0, 0, 0, 2, 0]\nassert solution.countRectangles([[945611583, 62], [421258924, 42]], [[138844395, 38], [256327098, 95], [63948215, 3], [993478313, 46], [160288707, 9], [115963943, 76], [417380108, 52], [929032361, 16], [460920400, 91], [196403526, 31]]) == [2, 0, 2, 0, 2, 0, 1, 1, 0, 2]\nassert solution.countRectangles([[240475282, 1], [304081557, 66]], [[961417005, 66], [211303731, 89], [149251887, 83], [840082858, 85], [474979646, 66], [788080733, 18], [11855003, 56], [904309474, 41], [563191089, 1], [428678634, 59]]) == [0, 0, 0, 0, 0, 0, 1, 0, 0, 0]\nassert solution.countRectangles([[408527858, 44], [270760851, 67], [271958743, 86], [876376374, 6], [593895090, 51], [221256720, 56], [410584735, 25], [438763255, 26], [98181416, 65], [12695505, 45]], [[435958357, 71], [745080012, 10], [617923613, 70], [197232256, 77], [392756713, 52], [797096914, 16]]) == [0, 0, 0, 1, 0, 0]\nassert solution.countRectangles([[413114106, 57], [420428006, 53]], [[394438980, 47], [327045497, 32], [837826817, 81]]) == [2, 2, 0]\nassert solution.countRectangles([[543096417, 65], [576224282, 42], [547930594, 6], [319229091, 79]], [[690647688, 72], [894837116, 5], [82653376, 43], [662609662, 76], [578271052, 66]]) == [0, 0, 2, 0, 0]\nassert solution.countRectangles([[379102098, 63]], [[638414553, 93], [517343102, 47], [585783118, 65], [520181644, 84], [740083284, 55], [705761201, 6]]) == [0, 0, 0, 0, 0, 0]\nassert solution.countRectangles([[240243567, 48]], [[490941171, 18], [633042600, 83], [912518429, 70]]) == [0, 0, 0]\nassert solution.countRectangles([[35574330, 27], [659642683, 53], [361546624, 37], [202595476, 49], [71980071, 10], [247550705, 8], [886548561, 100], [581886288, 92], [654168954, 25], [69272582, 3]], [[957202341, 89], [623155970, 39]]) == [0, 2]\nassert solution.countRectangles([[787451788, 77], [491352365, 6]], [[970124325, 85]]) == [0]\nassert solution.countRectangles([[784309264, 32], [466470705, 41], [881977891, 43], [509268315, 14], [756630830, 34], [194018796, 25], [914261140, 8], [921087019, 22], [260901748, 82], [716189404, 34]], [[121958734, 31], [605193578, 44], [205273988, 62], [395776230, 5], [691202339, 42], [669720629, 27], [342032063, 93], [354835935, 60], [552805162, 17]]) == [6, 0, 1, 8, 1, 4, 0, 0, 5]\nassert solution.countRectangles([[434770191, 36]], [[216359344, 62]]) == [0]\nassert solution.countRectangles([[334231204, 94], [332379126, 64], [430683752, 2]], [[679716744, 4], [137916456, 15], [80453061, 57], [608940296, 70], [838691693, 13], [317513981, 64], [315040028, 36], [796868769, 40], [562734312, 33], [556204581, 39]]) == [0, 2, 2, 0, 0, 2, 2, 0, 0, 0]\nassert solution.countRectangles([[889887693, 30], [177480108, 29], [625290299, 94], [451213535, 13], [827126007, 87], [316217087, 3], [559427011, 38], [29468543, 35], [199673103, 74]], [[832806587, 28], [14602915, 6]]) == [1, 8]\nassert solution.countRectangles([[544468834, 58], [121324674, 26], [831376227, 14], [798934280, 14]], [[720867549, 88], [784136909, 28], [688684818, 46], [653133617, 20], [866607942, 74]]) == [0, 0, 0, 0, 0]",
  "inefficient_solution": "class Solution:\n    def countRectangles(\n        self, rectangles: List[List[int]], points: List[List[int]]\n    ) -> List[int]:\n        d = {h: [] for h in range(1, 101)}\n        for x, y in rectangles:\n            d[y].append((x, 1))\n        for y in d.keys():\n            d[y].sort(key=lambda x: x[0])\n        ans = []\n        for x, y in points:\n            cnt = 0\n            for h in range(y, 101):\n                xs = d[h]\n                while xs and xs[0][0] < x:\n                    xs.pop(0)\n                cnt += len(xs)\n            ans.append(cnt)\n        return ans",
  "is_python": true
}
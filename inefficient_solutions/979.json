{
  "problem_idx": 979,
  "task_name": "Distribute Coins in Binary Tree",
  "markdown_description": "\nYou are given the `root` of a binary tree with `n` nodes where each `node` in the tree has `node.val` coins. There are `n` coins in total throughout the whole tree.\n\n\nIn one move, we may choose two adjacent nodes and move one coin from one node to another. A move may be from parent to child, or from child to parent.\n\n\nReturn *the **minimum** number of moves required to make every node have **exactly** one coin*.\n\n\n\u00a0\n\n\n**Example 1:**\n\n\n![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/0900-0999/0979.Distribute%20Coins%20in%20Binary%20Tree/images/tree1.png)\n\n```\n\n**Input:** root = [3,0,0]\n**Output:** 2\n**Explanation:** From the root of the tree, we move one coin to its left child, and one coin to its right child.\n\n```\n\n**Example 2:**\n\n\n![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/0900-0999/0979.Distribute%20Coins%20in%20Binary%20Tree/images/tree2.png)\n\n```\n\n**Input:** root = [0,3,0]\n**Output:** 3\n**Explanation:** From the left child of the root, we move two coins to the root [taking two moves]. Then, we move one coin from the root of the tree to the right child.\n\n```\n\n\u00a0\n\n\n**Constraints:**\n\n\n* The number of nodes in the tree is `n`.\n* `1 <= n <= 100`\n* `0 <= Node.val <= n`\n* The sum of all `Node.val` is `n`.\n\n\n",
  "canonical_solution": "# Definition for a binary tree node.\n# class TreeNode:\n#     def __init__(self, val=0, left=None, right=None):\n#         self.val = val\n#         self.left = left\n#         self.right = right\nclass Solution:\n    def distributeCoins(self, root: Optional[TreeNode]) -> int:\n        def dfs(root):\n            if root is None:\n                return 0\n            left, right = dfs(root.left), dfs(root.right)\n            nonlocal ans\n            ans += abs(left) + abs(right)\n            return left + right + root.val - 1\n\n        ans = 0\n        dfs(root)\n        return ans\n",
  "test_case_generator": "\nimport random\n\nclass TreeNode:\n    def __init__(self, val=0, left=None, right=None):\n        self.val = val\n        self.left = left\n        self.right = right\n\nclass Solution:\n    def distributeCoins(self, root: Optional[TreeNode]) -> int:\n        def dfs(root):\n            if root is None:\n                return 0\n            left, right = dfs(root.left), dfs(root.right)\n            nonlocal ans\n            ans += abs(left) + abs(right)\n            return left + right + root.val - 1\n\n        ans = 0\n        dfs(root)\n        return ans\n\ndef generate_test_case():\n    solution = Solution()\n\n    # Generate a binary tree with random values for each node\n    def generate_tree(size):\n        if size == 0:\n            return None\n        val = random.randint(0, size)\n        left_size = random.randint(0, size - 1)\n        return TreeNode(val, generate_tree(left_size), generate_tree(size - 1 - left_size))\n\n    root = generate_tree(100)\n\n    # Calculate the expected result using the provided Solution class\n    expected_result = solution.distributeCoins(root)\n\n    return root, expected_result\n\ndef test_generated_test_cases(num_tests):\n    test_case_generator_results = []\n    for i in range(num_tests):\n        root, expected_result = generate_test_case()\n        solution = Solution()\n        assert solution.distributeCoins(root) == expected_result\n        print(f\"assert solution.distributeCoins({root}) == {expected_result}\")\n        test_case_generator_results.append(f\"assert solution.distributeCoins({root}) == {expected_result}\")\n    return test_case_generator_results\n\nif __name__ == \"__main__\":\n    num_tests = 100\n    test_case_generator_results = test_generated_test_cases(num_tests)\n",
  "test_case": "assert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc2446550>) == 802\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc2447e90>) == 480\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc2444d10>) == 1475\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc24465d0>) == 858\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc2444cd0>) == 728\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc2447f10>) == 542\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc24465d0>) == 875\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc23819d0>) == 1093\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc23c5350>) == 1089\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc2447e90>) == 1181\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc257e590>) == 777\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc23819d0>) == 591\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 591\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc2447e50>) == 1351\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 610\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc23819d0>) == 954\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 848\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc2447e50>) == 699\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 781\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc23819d0>) == 1270\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 619\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc2447e50>) == 732\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 627\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc23819d0>) == 914\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 654\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc2447e50>) == 433\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 903\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc23819d0>) == 723\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 779\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc2447e50>) == 1840\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 670\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc23819d0>) == 671\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 1224\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc2447e50>) == 712\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 733\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc23819d0>) == 613\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 982\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc2447e50>) == 552\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 615\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc23819d0>) == 1225\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 681\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc2447e50>) == 723\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 609\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc23819d0>) == 788\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 730\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc2447e50>) == 556\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 982\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc23819d0>) == 626\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 1197\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc2447e50>) == 932\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 737\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc23819d0>) == 813\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 552\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc2447e50>) == 657\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 906\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc23819d0>) == 1035\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 828\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc2447e50>) == 612\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 897\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc23819d0>) == 675\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 743\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc2447e50>) == 756\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 1063\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc23819d0>) == 1129\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 974\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc2447e50>) == 488\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 666\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc23819d0>) == 1139\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 408\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc2447e50>) == 997\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 553\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc23819d0>) == 859\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 1065\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc2447e50>) == 564\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 966\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc23819d0>) == 714\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 817\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc2447e50>) == 1017\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 1151\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc23819d0>) == 689\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 863\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc2447e50>) == 641\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 661\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc23819d0>) == 749\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 705\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc2447e50>) == 685\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 682\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc23819d0>) == 683\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 993\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc2447e50>) == 695\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 1028\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc23819d0>) == 803\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 1083\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc2447e50>) == 632\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 1505\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc23819d0>) == 758\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 740\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc2447e50>) == 837\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc244c2d0>) == 757\nassert solution.distributeCoins(<__main__.TreeNode object at 0x7f8cc23819d0>) == 845",
  "inefficient_solution": "",
  "is_python": true
}
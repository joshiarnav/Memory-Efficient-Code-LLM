{
    "problem_idx": "1343",
    "description": "\nGiven an array of integers `arr` and two integers `k` and `threshold`, return *the number of sub-arrays of size* `k` *and average greater than or equal to* `threshold`.\n\n\n\u00a0\n\n\n**Example 1:**\n\n\n\n```\n\n**Input:** arr = [2,2,2,2,5,5,5,8], k = 3, threshold = 4\n**Output:** 3\n**Explanation:** Sub-arrays [2,5,5],[5,5,5] and [5,5,8] have averages 4, 5 and 6 respectively. All other sub-arrays of size 3 have averages less than 4 (the threshold).\n\n```\n\n**Example 2:**\n\n\n\n```\n\n**Input:** arr = [11,13,17,23,29,31,7,5,2,3], k = 3, threshold = 5\n**Output:** 6\n**Explanation:** The first 6 sub-arrays of size 3 have averages greater than 5. Note that averages are not integers.\n\n```\n\n\u00a0\n\n\n**Constraints:**\n\n\n* `1 <= arr.length <= 105`\n* `1 <= arr[i] <= 104`\n* `1 <= k <= arr.length`\n* `0 <= threshold <= 104`\n\n\n",
    "inefficient_solution": "class Solution:\n    def numOfSubarrays(self, arr: List[int], k: int, threshold: int) -> int:\n        subarray_sums = {}\n        for i in range(len(arr) - k + 1):\n            window_sum = sum(arr[i:i+k])\n            subarray_sums[window_sum] = subarray_sums.get(window_sum, 0) + 1\n        total_count = 0\n        for window_sum in subarray_sums:\n            if window_sum / k >= threshold:\n                total_count += subarray_sums[window_sum]\n        return total_count",
    "efficient_solution": "class Solution:\n    def numOfSubarrays(self, arr: List[int], k: int, threshold: int) -> int:\n        s = sum(arr[:k])\n        ans = int(s / k >= threshold)\n        for i in range(k, len(arr)):\n            s += arr[i]\n            s -= arr[i - k]\n            ans += int(s / k >= threshold)\n        return ans\n",
    "text": "Below is a programming problem description and an inefficient solution. Your task is to provide a more efficient solution.\n\n### Problem Description:\n\nGiven an array of integers `arr` and two integers `k` and `threshold`, return *the number of sub-arrays of size* `k` *and average greater than or equal to* `threshold`.\n\n\n\u00a0\n\n\n**Example 1:**\n\n\n\n```\n\n**Input:** arr = [2,2,2,2,5,5,5,8], k = 3, threshold = 4\n**Output:** 3\n**Explanation:** Sub-arrays [2,5,5],[5,5,5] and [5,5,8] have averages 4, 5 and 6 respectively. All other sub-arrays of size 3 have averages less than 4 (the threshold).\n\n```\n\n**Example 2:**\n\n\n\n```\n\n**Input:** arr = [11,13,17,23,29,31,7,5,2,3], k = 3, threshold = 5\n**Output:** 6\n**Explanation:** The first 6 sub-arrays of size 3 have averages greater than 5. Note that averages are not integers.\n\n```\n\n\u00a0\n\n\n**Constraints:**\n\n\n* `1 <= arr.length <= 105`\n* `1 <= arr[i] <= 104`\n* `1 <= k <= arr.length`\n* `0 <= threshold <= 104`\n\n\n\n\n### Inefficient Solution:\nclass Solution:\n    def numOfSubarrays(self, arr: List[int], k: int, threshold: int) -> int:\n        subarray_sums = {}\n        for i in range(len(arr) - k + 1):\n            window_sum = sum(arr[i:i+k])\n            subarray_sums[window_sum] = subarray_sums.get(window_sum, 0) + 1\n        total_count = 0\n        for window_sum in subarray_sums:\n            if window_sum / k >= threshold:\n                total_count += subarray_sums[window_sum]\n        return total_count\n\n### Efficient Solution:\nclass Solution:\n    def numOfSubarrays(self, arr: List[int], k: int, threshold: int) -> int:\n        s = sum(arr[:k])\n        ans = int(s / k >= threshold)\n        for i in range(k, len(arr)):\n            s += arr[i]\n            s -= arr[i - k]\n            ans += int(s / k >= threshold)\n        return ans\n<|eot_id|>",
    "model_generation": "Below is a programming problem description and an inefficient solution. Your task is to provide a more efficient solution.\n\n### Problem Description:\n\nGiven an array of integers `arr` and two integers `k` and `threshold`, return *the number of sub-arrays of size* `k` *and average greater than or equal to* `threshold`.\n\n\n\u00a0\n\n\n**Example 1:**\n\n\n\n```\n\n**Input:** arr = [2,2,2,2,5,5,5,8], k = 3, threshold = 4\n**Output:** 3\n**Explanation:** Sub-arrays [2,5,5],[5,5,5] and [5,5,8] have averages 4, 5 and 6 respectively. All other sub-arrays of size 3 have averages less than 4 (the threshold).\n\n```\n\n**Example 2:**\n\n\n\n```\n\n**Input:** arr = [11,13,17,23,29,31,7,5,2,3], k = 3, threshold = 5\n**Output:** 6\n**Explanation:** The first 6 sub-arrays of size 3 have averages greater than 5. Note that averages are not integers.\n\n```\n\n\u00a0\n\n\n**Constraints:**\n\n\n* `1 <= arr.length <= 105`\n* `1 <= arr[i] <= 104`\n* `1 <= k <= arr.length`\n* `0 <= threshold <= 104`\n\n\n\n\n### Inefficient Solution:\nclass Solution:\n    def numOfSubarrays(self, arr: List[int], k: int, threshold: int) -> int:\n        subarray_sums = {}\n        for i in range(len(arr) - k + 1):\n            window_sum = sum(arr[i:i+k])\n            subarray_sums[window_sum] = subarray_sums.get(window_sum, 0) + 1\n        total_count = 0\n        for window_sum in subarray_sums:\n            if window_sum / k >= threshold:\n                total_count += subarray_sums[window_sum]\n        return total_count\n\n### Efficient Solution:\nclass Solution:\n    def numOfSubarrays(\n        self, arr: List[int], k: int, threshold: int\n    ) -> int\n    def numOfSubarrays(\n        self, arr: List[int], k: int, threshold: int\n    ) -> int:\n        s = sum(arr[:k])\n        t = s - arr[0]\n        ans = s >= k * threshold\n        for i in range(k, len(arr)):\n            t += arr[i] - arr[i - k]\n            ans += t >= k * threshold\n        return ans\n",
    "model_solution": "class Solution:\n    def numOfSubarrays(\n        self, arr: List[int], k: int, threshold: int\n    ) -> int\n    def numOfSubarrays(\n        self, arr: List[int], k: int, threshold: int\n    ) -> int:\n        s = sum(arr[:k])\n        t = s - arr[0]\n        ans = s >= k * threshold\n        for i in range(k, len(arr)):\n            t += arr[i] - arr[i - k]\n            ans += t >= k * threshold\n        return ans"
}